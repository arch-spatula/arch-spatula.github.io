---
sidebar_position: 2
---

# golang에 대한 질문 100개

1. golang으로 서버는 어떻게 만들 수 있는가?

2. golang으로 서버에서 body의 json은 어떻게 볼 수 있는가?

3. go 키워드와 예약어 별 예시는 무엇인가?

4. `new` 키워드는 무엇인가?

구조체를 기본값으로 초기화해서 힙에 저장한 값을 의미합니다.

5. golang의 컴파일러와 아키텍쳐는 어떻게 되어 있는가?

6. golang으로 테스트 코드는 어떻게 작성할 수 있는가?

7. golang으로 데브 옵스에는 어떻게 활용하는가?

8. `go get -u github.com/(제작자)/(레포명)`에서 `-u` 플래그는 무엇인가?

`-u` 플래그는 최신을 의미합니다.

Cobra 공식문서에서 아래처럼 설치할 것을 권장합니다.

```sh
go get -u github.com/spf13/cobra/cobra
```

여기서 의문이 여기서 출발했습니다.

> `go get` 명령은 Go 언어의 패키지 관리자 중 하나로, 외부 패키지를 가져오는 데 사용됩니다. `-u` 플래그는 "update"의 약자이며, `go get` 명령을 사용할 때 해당 패키지를 현재 버전에서 가장 최신 버전으로 업데이트하도록 지시하는 역할을 합니다.
>
> 구체적으로 `go get -u github.com/spf13/cobra` 명령은 GitHub에서 `spf13/cobra` 패키지를 가져오고, `-u` 플래그로 인해 이미 로컬에 설치된 패키지의 버전보다 최신 버전이 있다면 해당 패키지를 업데이트합니다.
>
> 이것은 종속성 관리 및 프로젝트의 패키지 버전을 최신 상태로 유지하는 데 유용한 방법 중 하나입니다.
>
> \- chatGPT

이렇게 알게되었습니다. ~~저는 위 인용문으로 제의 글의 신뢰를 잃었습니다.~~

위처럼 직접 설치해 괜찮습니다. 실제 코드에서 일부를 활용하고 있으면 `go tidy`를 사용해서 자동 설치하기 바랍니다.

```sh
go tidy
```

```sh
go install github.com/spf13/cobra-cli@latest
```

go 언어로 설치하는 다른 방법으로 위 명령도 존재합니다.

9. `go get`과 `go install`은 무엇이 다른 것인가?

10. 운영체제별 빌드하는 방법은 무엇인가?

```sh
GOOS=darwin GOARCH=amd64 go build -o bin/iget
```

위는 맥을 위한 것입니다.

윈도우 혹은 리눅스를 어떻게 타겟팅해야 할 줄 모릅니다.

11. go로 현재 시간 출력을 어떻게 정리할 수 있는가?

```sh
s := time.Now().Format("2006-01-02 15:04:05")
fmt.Println(s) // 2019-01-12 10:20:30
```

12. 파일을 생성하는 방법은 무엇인가?

해당하는 파일명으로 파일을 생성하는 것과 파일을 쓰는 것은 다릅니다.

```go
file, err := os.Create(filename)
if err != nil {
    return err
}
defer file.Close()
```

`os.Create`는 파일을 생성하도록 시스템에 요청하는 방법입니다.

[How to create new file using go script](https://stackoverflow.com/questions/46748636/how-to-create-new-file-using-go-script)

https://golangbyexample.com/create-directory-folder-golang/

13. 폴더 생성하는 방법은 무엇인가?

```go
package main

import (
    "log"
    "os"
)

func main() {
    //Create a folder/directory at a full qualified path
    err = os.Mkdir("temp", 0755)
    if err != nil {
        log.Fatal(err)
    }
}
```

[Create a directory or folder in Go (Golang)](https://golangbyexample.com/create-directory-folder-golang/)

`os.Create`는 파일을 생성하도록 시스템에 요청하는 방법입니다.

14. 파일의 존재를 알아내는 방법은 무엇인가?

[How to check if a file exists in Go?](https://stackoverflow.com/questions/12518876/how-to-check-if-a-file-exists-in-go)

```go
if _, err := os.Stat("template.md"); errors.Is(err, os.ErrNotExist) {
  fmt.Println("파일이 존재하지 않습니다.j")
}
```

15. 파일에 쓰기를 하는 방법은 무엇인가?

```go
file, err := os.Create("README.md")
if err != nil {
  fmt.Printf("Unable to write file: %v\n", err)
}
defer file.Close()

fmt.Fprintln(file, "# hello today")
```

16. 파일을 읽는 방법은 무엇인가?

```go
// template.md 읽기
template, err := ioutil.ReadFile("template.md")
if err != nil {
  fmt.Printf("Unable to read file: %v\n", err)
}
```

```go
todayFile, err := os.Create(todayMarkdownFile)
if err != nil {
  fmt.Printf("Unable to write file: %v\n", err)
}
defer todayFile.Close()

// template.md 읽기
template, err := ioutil.ReadFile("template.md")
if err != nil {
  fmt.Printf("Unable to read file: %v\n", err)
}

// 오늘 TIL에 쓰기
fmt.Fprintln(todayFile, string(template))
```

위는 파일을 생성하고 하나의 파일을 읽고 생성한 파일에 읽기를 한 것입니다.

17. `0755`는 무엇인가?

```go
err := os.Mkdir(folder, 0755)
if err != nil {
    fmt.Printf("Unable to write file: %v\n", err)
}
```

재곧내. `0755`은 왜 2번째 인자로 대입해야 하는지 모르겠습니다.

18. 날짜를 표현하는 방법은 무엇인가?

```go
markdown := time.Date(now.Year(), now.Month(), now.Day()+1, 0, 0, 0, 0, time.UTC).Format("060102")
```

오늘 기준으로 내일을 표현할 것입니다.

19. 로컬 패키지 연결이 잘 안됩니다. 어떻게 해결해야 하나요?

```
├── main.go
├── cmd/
│   └── init.go
└── utilFn/
    └── jsonReader/
        └── jsonReader.go
```

저는 cmd 속에 `init.go`에서 `jsonReader.go`를 접근해야 했습니다.

먼저 `go mod` 선언이 되어 있는지 확인해야 합니다.

저는 `go.mod`에는 `module github.com/arch-spatula/TIL-CLI`으로 써져있습니다. `go mod` 선언을 올바르게 된 것입니다.

다음은 `cmd` + `shift` + `p` 단축키를 VScode에서 명령하기 바랍니다. `Go: install/update tools`를 선택하기 바랍니다. 그리고 모두 체크하고 업데이트하기 바랍니다.

![](https://private-user-images.githubusercontent.com/84452145/288387528-ddb683ba-b90d-4338-b080-eaa60f099a32.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDE4NjIzMTYsIm5iZiI6MTcwMTg2MjAxNiwicGF0aCI6Ii84NDQ1MjE0NS8yODgzODc1MjgtZGRiNjgzYmEtYjkwZC00MzM4LWIwODAtZWFhNjBmMDk5YTMyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMDYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjA2VDExMjY1NlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTI1MmUyYzFmOTZmNDkyMzAwNjJmZjkyMjVhYmVhMTg2ZTRmNGE4MjQwODcyNzYwYmQzNzk4NjM3NjA0NDE3NzQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TPfgV5LU-veobJDdJKkFTup5fmQB_iaBPVSqmjGt9eQ)

마지막으로 `cmd` + `shift` + `p`으로 go LSP를 재가동해주세요. `Go: Restart Language Server`를 실행해주세요.

그리고 패키지에서 export처럼 접근가능한 대문제 변수, 상수, 함수를 호출해보기 바랍니다.

지금의 경우 아래처럼 import 문에 추가되면 됩니다.

`"github.com/arch-spatula/TIL-CLI/utilFn/jsonReader"`

```go
/*
Copyright © 2023 NAME HERE <EMAIL ADDRESS>
*/
package cmd

import (
	"fmt"
	"os"

	"github.com/arch-spatula/TIL-CLI/utilFn/jsonReader"
	"github.com/spf13/cobra"
)

// initCmd represents the init command
var initCmd = &cobra.Command{
	Use:   "init",
	Short: "프로젝트 초기 설정 명령입니다.",
	Long: ``,
	Run: func(cmd *cobra.Command, args []string) {
		jsonReader.WriteJson()
	},
}
```

이런식으로 호출하게 될 것입니다.

```go
package jsonReader

import (
	"encoding/json"
	"fmt"
	"io"
	"os"
	"time"
)

type TILConfig struct {} `json:"draft"`

var settingJsonFileName = "til-config.json"
func ReadJson() TILConfig {
	data, err := os.Open(settingJsonFileName)
	if err != nil {
		panic(`til-config 파일이 없습니다.

./TIL-CLI init 명령을 먼저 해주세요.`)
	}
	defer data.Close()

	byteValue, _ := io.ReadAll(data)

	var tilConfig TILConfig
	err = json.Unmarshal(byteValue, &tilConfig)
	if err != nil {
		panic(err)
	}

	return tilConfig
}
```

위처럼 `ReadJson`메서드를 정의하면 됩니다.

[VSCode: Could not import Golang package - stackoverflow](https://stackoverflow.com/questions/58518588/vscode-could-not-import-golang-package)
