---
// layouts & Design
import "../styles/global.css";
import BaseLayout from "../layouts/BaseLayout.astro";

// components
import BlogPost from "../components/BlogPost.astro";
import Profile from "../components/Profile.astro";
import Divider from "../components/Divider.astro";
import IndexCard from "../components/IndexCard.astro";

// data
const pageTitle = "Arch-Spatula의 레시피";
const allPosts = await Astro.glob("./posts/*.md");
const nonDraftPosts = allPosts.filter((post) => !post.frontmatter.draft);
---

<BaseLayout pageTitle={pageTitle}>
  <Profile title={pageTitle} />
  <IndexCard
    tags={["dev meme", "개발자 유머"]}
    url="dev-meme"
    title="Dev meme"
    description="블로그를 만든 원래 이유입니다. 제가 개발자 유머를 많이 좋아합니다. 제 블로그입니다. 이상한 거 올려도 제 마음입니다. 제 취향이니까 존중하세요."
    src="https://user-images.githubusercontent.com/84452145/223368196-c04ca24e-4971-470a-9da4-79bfbed09002.png"
  />
  <IndexCard
    tags={["Astro", "Cook Book", "Working Process"]}
    url="astro-cook-book"
    title="Astro Cook Book"
    description="Astro로 블로그라도 만드는 법을 배웁니다. 아마 이 Cook-Book은 제가 맞춰서 업데이트할 것 같습니다. 제가 저만의 개발자 블로그를 만들고 또 나중에 보수하기 위해서 만든 Cook-Book입니다."
    src="https://user-images.githubusercontent.com/84452145/222958776-d3c44205-2f9a-478f-9f4d-953f3370fc83.png"
  />
  <ul class="blog-posts">
    <!-- 블로그 목록을 순회합니다. -->
    {
      nonDraftPosts.map((post) => {
        return (
          <BlogPost
            url={post.url}
            title={post.frontmatter.title}
            description={post.frontmatter.description}
            tags={post.frontmatter.tags}
            date={post.frontmatter.pubDate}
          />
        );
      })
    }
  </ul>
  <Divider />
</BaseLayout>
