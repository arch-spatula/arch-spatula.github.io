---
sidebar_position: 1
description: '컴퓨터 구조론'
tags: ['하드웨어', '아키텍쳐', '컴퓨터 구조론']
draft: true
---

# 컴퓨터구조론

컴퓨터를 이해하는 출발점입니다. 개인적으로 핵심은 중앙처리장치, 주기억장치, 보조기억장치라고 봅니입니다. 물론 모니터, 스피커같은 출력장치도 중요하고 또 마우스와 키보드처럼 입력장치도 중요합니다.

<!-- @todo: 컴퓨터 전체 아키텍쳐 사진 추가 -->

## 진공관

애니악은 대학교 건물 층 1개 전체를 차지했습니다. 진공관은 비싸고 부피가 크고 고장이 잘났습니다. 이시절 버그는 실제 벌레가 큰 컴퓨터 안에 계산을 망치면서 발생했습니다.

<!-- @todo 진공관 사진 추가 -->
<!-- @todo 애니악 등 과거 초기 컴퓨터 사진 추가 -->

## 트랜지스터(transistor)

![](https://user-images.githubusercontent.com/84452145/284950063-61055416-3055-484f-af83-002decad7819.png)

https://news.samsungdisplay.com/23538/

애니악은 대학교 건물 층 1개 전체를 차지했습니다. 진공관은 비싸고 부피가 크고 고장이 잘났습니다. 이시절 버그는 실제 벌레가 큰 컴퓨터 안에 계산을 망치면서 발생했습니다.

트랜지스터는 나노사이즈로 만듭니다. $10^{-9}$m입니다. 실리콘으로 만듭니다. 규소로 만듭니다. 규소는 모래로 만듭니다. 모래를 구워서 만들기 때문에 튼튼해서 고장이 잘 안납니다. 전기도 효율적입니다.

n형 실리콘은 전자가 많아 +고 p는 -이리고 간주할 수 있습니다. 가운데가 베이스 양끝은 이미터와 콜랙터로 되어 있습니다.

전기가 바로 흘러서 전구가 들어오지 않습니다. p가 댐역할을 합니다. 베이스에 추가로 전압을 가하면 전기가 흐릅니다. 댐의 벽이 내렸다고 볼 수 있습니다. 이것을 보고 스위치라고 합니다.

트랜지스터를 다른말로 반도체라고 합니다. 반도체는 도체일 수 있고 아닐 수 있기 때문입니다. 금, 구리, 물처럼 전기가 흐르면 도체라고 합니다. 고무, 세라믹은 부도체에 해당합니다. 실리콘은 베이스에 전압을 가하는 특정 조건이 성립하면 도체가 되기 때문에 반도체가 됩니다. 전압을 안 가하면 부도체가 되어서 스위치고 반도체를 보고 전기의 흐름 여부를 제어할 수 있습니다.

전기가 흐르면 1 안 흐르면 0이 됩니다. 컴퓨터가 0과 1만 알고 있다고 하는 여러개의 트랜지스터로 만들기 때문에 가능합니다.

이것으로 이진수를 표현할 수 있게 됩니다. 2개의 숫자를 표현합니다. 놀랍게도 모든 숫자를 표현할 수 있습니다.

인간은 10진수 체계를 사용합니다.

컴퓨터의 본질은 계산기입니다. 어떻계 계산기를 만드는가? 논리소자 여러개를 결합해서 계산기를 만들 수 있습니다.

and 2개의 전압을 받아야 1이 됩니다.

or은 2개 중 1개이상 전압을 받으면 1이됩니다.

not은 역입니다. 1을 받으면 0 반대로 0을 받으면 1이 나옵니다.

xor은 2개 중 1개만 전압을 받으면 1이 됩니다. 1을 2개 받으면 0이 됩니다.

트랜지스터 2개로 베이스 2개를 받으면 and를 만들 수 있습니다. 2개의 지점에서 도체가 되어야 and가 됩니다. 이미터에서 2개의 도체를 허용받아야 합니다.

1비트 가산기

| A   | B   | 결과 |
| --- | --- | ---- |
| 0   | 0   | 00   |
| 0   | 1   | 01   |
| 1   | 0   | 01   |
| 1   | 1   | 11   |

| A   | B   | 올림 | 합  |
| --- | --- | ---- | --- |
| 0   | 0   | 0    | 0   |
| 0   | 1   | 0    | 1   |
| 1   | 0   | 0    | 1   |
| 1   | 1   | 1    | 0   |

올림은 and로 만들 수 있습니다. 그리고 합은 xor로 만들 수 있습니다.

덧셈은 올림과 합으로 만들 수 있습니다. 이렇게 2개의 트렌지스터를 활용해서 1비트 가산기를 만들 수 있습니다.

가산기, 감산기, 곱센기, 나눗셈기 등 계산기를 만들 수 있게 됩니다.

트렌지스터는 1비트 1개를 담을 수 있습니다. 트렌지스터를 통해서 논리소자를 만들 수 있습니다. 계산기는 이러한 논리소자들을 통해서 가산기, 감산기, 곱셈기, 나눗셈기 등을 만들 수 있습니다.

하지만 계산기와 컴퓨터 다릅니다. 계산기와 컴퓨터의 핵심적인 차이는 프로그래밍과 같은 명령(프로그램)으로 원하는데로 제어할 수 있는가가 관건입니다.

## 논리소자

<!-- https://www.youtube.com/watch?v=WGKHEIpXy5c -->

<iframe class="codepen" src="https://www.youtube.com/embed/gI-qXk7XojA" title="부울 연산과 논리 게이트 : 컴퓨터 과학 특강 3" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<!-- 안녕하세요! 저는 Carrie Anne이에요. 컴퓨터 과학 특강에 오신 것을 환영합니다! 우리는 오늘 추상화의 사다리로 올라가는 여행을 시작할거에요. 처음에 우리는 모든 스위치와 장비를 단순하게 볼 수 있지만, 점점 더 복잡해져 가는 시스템들을 조립할 수 있는 능력을 얻을 겁니다.

지난 강의에서, 우리는 컴퓨터가 어떻게 전자 기계 장치로 진화해 왔는지를 살펴봤어요. 기어의 톱니바퀴로 나타난 10진수로 표현했던 기계가 트랜지스터가 전류의 흐름으로 켜고 끌 수 있는 전자식 컴퓨터가 되기까지요. 그리고 다행히도, 2가지의 전기적 상태만으로도, 우리는 중요한 정보를 표현할 수 있어요.

우리는 이 표현을 이진(Binary)이라고 부릅니다. 문자상으로 "두 가지 상태"를 일컫는데, 자전거가 두개의 바퀴를 갖거나 두발짐승이 다리를 두개 가진것과 같죠. 당신은 2가지 상태로는 많은 일을 못 할것이라고 추측할 것이고, 그말이 맞아요! 그러나 이 2가지 상태는 정확히 "참"과 "거짓"으로 나타내는 데 필요하죠. 컴퓨터 안에서, On상태는 전류가 흐르고, true를 나타내는 상태에요. Off상태에서 전기는 흐르지 않고 false 상태를 나타내요. 우리는 true와 false를 이진수인 1과 0을 사용해서 나타낼 수 있어요.

이들은 단순히 같은 신호를 다르게 표현한 것이지만 이건 다음 강좌에서 좀 더 다뤄볼게요. 이제 전류를 흐르게 하거나 끊는 것 이상으로 트랜지스터를 사용할 수 있게 되어 다른 수준의 전류를 허용할 수 있게 됬어요. 어떤 초기의 전자 컴퓨터는 3개의 상태를 갖고 있는 3진법을 사용하거나 심지어 5가지 상태를가진 5진법을 사용할 수도 있었어요. 문제는, 중간 상태가 더 존재할수록, 그것들을 나누기가 더 어려워졌어요. 당신의 스마트폰 배터리가 거의 다 떨어져 갈 때 누군가가 가까이에서 전자레인지를 사용해 전기적인 잡음이 있다면 신호가 섞일 수 있어요. 트랜지스터가 1초에 수백만번의 상태를 바꾼다면 상황은 더 안좋죠!

그래서, 가능한 한 두개의 신호를 멀리 배치합니다. 단지 "on과 off"를 사용함으로써 이 문제를 최소한의 가장 명확한 신호로 사용할 수 있어요. 이진수를 사용하는 다른 이유 중 하나는 수학 분야에서 이미 존재했던

참과 거짓을 독점적으로 다루는 분야가 있었기 때문이에요. 그 수학 분야는 참과 거짓을 조작하는데 필요한 규칙과 연산방법을 모두 알아냈어요. 이것은 "부울 대수학"이라 불립니다!

부울 대수학은 1800년대 영국의 독학한 수학자인 George Boole이라는 사람의 이름을 따서 만들었어요. 그는 "아래에, 걸쳐서, 기준 밖의" 상태를 나타내는 논리적인 표현에 관심이 있었어요. 논란의 여지 없이 이것은 논리에 대한 철학자 아리스토텔레스의 접근에 기반을 두고 있었어요. 부울의 접근은 논리 방정식을 통해 공식적으로, 체계적으로 증명이 되었어요. 그가 1847년에 낸 "논리의 수학적 분석"이라는 첫번째 저서에서 소개한 책에서요.

보통 여러분에 고등학교 때 배우는 대수학에서 변수의 값은 숫자이며, 연산은 덧셈과 곱셈 같은 거에요. 부울 대수학에서 변수의 값은 참과 거짓이고 연산은 논리적입니다.

여기에는 NOT, AND, OR라는 핵심적인 연산이 있어요. 이 연산들은 매우 유용한 것으로 증명되었어요. 그래서 하나씩 개별적으로 살펴볼거에요. NOT은 참이든 거짓이든 그것 중 하나의 값을 취하고 그것을 부정해요. 참은 거짓으로, 거짓은 참으로 뒤집어요. 논리 표를 작성해 볼 수도 있죠. 원래 값을 입력에 넣고 연산을 적용한 결과를 출력으로 보여주죠.

여기서 좋은 부분은 트랜지스터에 있는 부울 논리를 배울 수 있죠. 지난 시간에 논의했듯이, 트랜지스터는 단순히 작은 전기 조절 스위치가 아니에요.트랜지스터는 제어선과 두개의 전극을 갖고 있어요. 제어선에 전기를 제공하면, 하나의 전극에 전류를 흐를 수 있게 하고 트랜지스터를 통해 다른 전극에도 전류가 흐를 수 있게 되요. 이것은 파이프 위의 수도꼭지와 비슷한데요, 수도를 열면 물이 흐르고, 수도를 닫으면 물은 멈추죠. 제어선을 입력으로 생각하고, 하부에 있는 전극을 출력으로 생각할 수 있어요. 하나의 트랜지스터로, 하나의 입력과 하나의 출력이 가능합니다. 입력을 켜면 전류가 흐를 수 있고, 출력 도 역시 켜집니다. 입력을 끄면 출력도 꺼지고 전류 또한 더이상 지나갈 수 없게 됩니다. 부울용어 에서는 입력이 참이면 출력도 참이죠. 입력이 거짓이면 출력도 거짓이 되요. 다시 이 과정을 논리표에 표시해보죠. 이건 사실 매우 흥미로운 회로는 아니에요. 왜냐하면 아무것도 안하기 때문이에요. 입력과 출력은 동일해요.

그러나, 우리는 회로를 NOT을 만들도록 조금 수정할 수 있어요. 트랜지스터의 끝부분에 출력 선을 가지는 대신에 출력선을 조금 앞으로 움직여 봅시다. 입력을 켜면, 트랜지스터는 전류를 통과시켜 접지 상태가 되요. 그리고 출력선은 전류를 받지 않고 꺼집니다.

물에 비유하자면 접지상태란 여러분의 집에 모든 물이 흘러 바닥으로 닿고 거대한 호스에서 물이 모두 빠져나와 샤워할 물이 남아있지 않은 것처럼 되요. 그래서 이 경우는, 입력은 켜지고, 출력은 꺼진 상태가 됩니다. 우리가 트랜지스터를 끄면, 전류는 접지상태가 되는 바닥으로 흐르지 못하게 되고 대신 전류는 출력선을 통해 흐릅니다. 그래서 입력은 꺼지고 출력은 켜지게 됩니다. 이것은 우리 NOT 논리 표와 같아요. 축하해요! 여러분은 컴퓨터의 NOT을 계산하는 회로를 배웠습니다. 우리는 이것을 NOT게이트라 부릅니다. 게이트는 전류의 흐름을 통제하기 때문에 이름붙여졌죠. AND 부울 연산은 두개의 입력이 필요하지만 여전히 한개의 출력을 합니다.

이 경우 출력은 모든 입력이 참일 경우만 참이에요. 진실 게임을 생각해 보세요. 여러분은 전혀 거짓말을 하지 않을때 완전이 정직할 수 있어요. 예를 들어, "내 이름은 Carrie Anne이고 나는 파란 드레스를 입고 있다"는 문장을 살펴보면 이 두가지 사실은 참이고, 전체 문장은 참이에요. 그런데 만약 내가 " 내 이름은 Carrie Anne이고 나는 바지를 입고 있다."라고 말하면 거짓일 거에요. 왜냐면 저는 바지를 입고 있지 않기 때문이에요. 정장바지도 아니고요. 당신이 영국인이라면요. (주로 영국에서 바지를 trousers라고 일컬음) Carrie Anne이라는 부분이 참이지만, 참과 거짓의 AND연산은 여전히 거짓이에요. 만약 문장을 거꾸로 말한다고 해도 그것은 분명히 거짓이고, 두개의 완전한 거짓된 문장을 말해도 역시 거짓이죠. 그리고 이것들을 다시 조합할 수 있습니다. 보이는 표에다 말이죠.

AND트를 만들기 위해서 우리는 두개의 트랜지스터를 함께 연결해서 두개의 입력과 하나의 출력을 만들어야 합니다. 만약 트랜지스터를 A를 켜면, 전류는 흐르지 않을거에요. 왜냐하면, 트랜지스터 B에 의해 흐름이 끊기기 때문이죠. 대안으로, 트랜지스터B가 켜지고, A가 꺼진다면 같은 방식으로 전류는 통과할 수 없어요. 트랜지스터 A와 B가 같이 켜져 있을때만 출력선에 전류가 흐를 수 있습니다.

마지막 부울 연산은 OR입니다.- 하나의 입력만 참이어도 출력이 참이 되는 연산이에요. 예를들어, 제 이름은 Margaret Hamilton 이거나 저는 파란 드레스를 입고 있어요. 이것은 옳은 진술이죠. 왜냐하면 제가 불행히 Margaret Hamilton이 아니더라,도 저는 파란 드레스를 입고 있고 전체적인 진술은 참이 됩니다. OR연산은 두가지 사실이 참일때도 역시 참입니다. OR연산이 모든 입력이 거짓일때만 거짓입니다. OR 게이트를 만드는 데에는 몇 개의 추가 배선이 필요합니다. 연속으로 두개의 트랜지스터를 놓는 대신(직렬) 그들을 -하나씩- 병렬로 놓고 두개의 트랜지스터 모두와 전류원을 연결합니다. 이 조그만 ͡ 기호는 연결되지 않고 전선 위로 지나가는 걸 의미하는 데 써요. 비록 서로 엇갈리며 교차하는것처럼 보이지만요. 만약 두개의 트랜지스터가 꺼져있다면, 전류는 출력으로 흐르지 않을거에요. 그럼 출력도 꺼지고요. 이제 우리가 트랜지스터 A만 켜면, 전류는 출력으로 흐를 수 있어요. 트랜지스터 A가 꺼지고 B가 켜져있어도 마찬가지에요. 기본적으로 트랜지스터 A 또는 B가 켜져있으면 출력 또한 켜집니다. 또한 두개의 트랜지스터가 켜져 있어도 출력은 여전히 켜지죠.

좋아요. 우리는 지금 NOT, AND 그리고 OR 게이트를 배웠고 트랜지스터의 구성을 뒤로 하고 추상화의 단계로 올라갈 수 있습니다. 기술자들이 게이트들을 기준으로 칭하는 기호가 있는데 NOT은 삼각형과 점, AND는 "D", OR은 우주선이라고 해요. 이것들은 공식적인 이름은 아니지만 그들이 어떻게 생겼는지에 대한 제 생각이에요. 그들을 대표하는 것에 대해 생각하는 것(비유하는 것)은 더 큰 구성요소에 대한 생각을 길러줘요. 전체적인 복잡성을 비교적 똑같이 유지하면서 트랜지스터와 선들은 여전히 혼란스럽게 있으면서요.

예를들어, 계산에서 또다른 유용한 부울 연산을 Exclusive OR를 줄 XOR 이라고 합니다. XOR은 보통 OR연산과 같지만 하나의 차이점이 있어요. 모든 입력이 참이면, XOR의 출력은 거짓이에요.

XOR연산이 참인 경우는 하나의 입력이 참이고 하나는 거짓인 경우입니다. 마치 여러분이 저녁을 먹으러 갔는데 샐러드나 수프가 저녁에 함께 나오는 것과 같아요. 슬프게도 둘 다 가질 수는 없죠! 이걸 트랜지스터에서 적용하는 것은 약간 헷갈리지만 어떻게 XOR이 만들어지는지 한번 봅시다. 앞서 배운 세 개의 기초 부울 게이트를 가지고 살펴볼거에요. 앞서 배운 두개의 입력 A와 B, 하나의 출력을 떠올려 봅시다.

논리 표가 OR과 거의 동일하기 때문에 OR게이트에서 시작할게요. 하나의 문제만 있어요 - A와 B가 참일 때 논리 결과가 OR과 다르죠. 우리는 출력이 "거짓"이 되는 과정을 알아야 해요. 이걸 하려면 몇개의 추가적인 게이트가 필요해요. 우리가 만약 AND게이트를 추가하면, 입력이 둘다 참일때 출력은 참이 될거에요. 이건 우리가 원하는게 아니에요. 근데 만약 NOT게이트를 바로 뒤에 추가하면 참을 거짓으로 뒤집죠. 좋아요. 이제 우리가 최종으로 AND게이트를 추가하고 그 출력값과 원래 OR게이트의 출력을 함께보내면 AND게이트로 보내면 참과 거짓을 입력받아서, 두개가 모두 참이 아니기 때문에 출력값은 거짓이 되요. 이것은 논리표에 나온 첫번째 연산을 나타냅니다. 남은 입력들의 조합을 마저 하려면 이 부울 논리 회로를 통해 추가적으로 Exclusive OR 연산을 해볼 수 있어요. 그리고 XOR연산은 매우 유용한 연산으로 밝혀졌고, 이것은 다른 강의에서 더 얘기할거에요. 사실 매우 유용해서 기술자들이 OR게이트가 미소짓는 모양으로 그것만의 상징을 만들기도 했죠. 그러나 가장 중요한것은, 이제 우리는 XOR을 도구상자에 은유할거고 각각의 논리 회로 구성이나 그것을 이루는 트랜지스터에 대해 걱정할 필요 없어요. 전자들이 반도체로 흐르는 방식에 대해서도 걱정 말아요. 다른 추상화의 단계로 이동합시다.

컴퓨터 기술자가 프로세서를 설계할 때 대부분 트랜지스터의 수준으로 일하지 않습니다. 대신 그것보다 매우 큰 블록들로 논리 회로와 같은, 논리회로들로 만들어진 더 큰 구성요소들로 작업을 해요. 이 얘기는 나중에 다른 강의에서 좀더 논의해보죠. 그리고 만약 당신이 전문적인 컴퓨터 프로그래머라고 해도, 어떻게 당신이 프로그래밍한 논리가 물리적 세계에서 구현되는 방식에 대해서 생각하는 경우는 드물어요. 이 아주, 매우 작은 부품들로 말이죠. 우리는 원시적인 전기 신호에 대한 생각에서부터 데이터의 첫 번째 표현까지 배웠어요. 그 표현은 참과 거짓이죠. 그리고 연산을 조금 맛보았어요. 이 강의에서 배운 논리 회로만으로 우리는 복잡한 논리문을 평가하는 시스템을 만들 수 있어요. 만약 "이름이 John Green이고 오후 다섯시 또는 주말이고 피자 헛 근처에 있는 경우" 라는 조합들로 John은 피자를 원할 것이다.는 참일 것이에요. 그리고 그걸로, 저는 배고파 죽겠네요.ㅎㅎ 우린 다음주에 만나요~
 -->

## 중앙처리장치(CPU, Central Processing Unit)

중앙처리장치는 컴퓨터에 뇌에 해당한다고 자주 말합니다. 뇌에 해당한다고 하는 이유는 모든 것에 관여하기 때문입니다. 도식을 보면 모든 것에 관여하기 때문에 컴퓨터의 중앙에 있습니다.

실제 계산을 모두 주기억장치에서 처리합니다.

CPU는 메모리와 같이 이해해야 합니다. CPU는 메모리에서 정보를 가져옵니다. 처리를 완료하면 메모리에 정보를 씁니다.

### 산술 논리 장치(算術論理裝置, arithmetic and logical unit, ALU)

[산술 논리 장치 - 위키피디아](https://ko.wikipedia.org/wiki/%EC%82%B0%EC%88%A0_%EB%85%BC%EB%A6%AC_%EC%9E%A5%EC%B9%98)

### CPU 레지스터

레지스터는 모든 곳에 있습니다. CPU도 예외는 아닙니다.

### 제어장치

### 시스템 버스

CPU와 메모리 중간 연결지점이라고 보기도 합니다.

## 주기억장치(Memory)

## 보조기억장치(disk)

아마 일상에서는 하드라고 자주 말하는 것을 봤을 것입니다. 컴퓨터과학을 공부하는 사람들은 디스크라고 자주 이야기합니다.

## 작업 주기

<!-- https://www.youtube.com/watch?v=Z5JC9Ve1sfI -->

<!--

> So every computer has a billion tiny Tom's, snapping their fingers in synchronicity.... Neat!
>
> \- 유튜브 어떤 댓글

 -->

<!-- https://www.youtube.com/watch?v=FZGugFqdr60 -->

<!-- @todo: 어쎔블리 코드블럭으로 표현하기 -->

<!-- @todo 동작 과정 도식화 & 시각화하기 -->

---

## GPU

그래픽스 카드입니다. 원래 게임엔진을 더 효율적으로 사용하는데 많이 사용했는데 인공지능 훈련할 때 상당히 유용합니다.

[GPU Basics -동작원리와 사용하는 이유에 대해서](https://gruuuuu.github.io/ai/gpu-basics/)

<!--

컴퓨터 시스템 딥 다이브: C 언어부터 어셈블리, 아키텍처, OS까지 한 꺼풀씩 벗겨보는 컴퓨터 시스템

https://product.kyobobook.co.kr/detail/S000211776141

시스템 소프트웨어 개발자를 위한 Arm - basic course

https://www.inflearn.com/roadmaps/763
-->
