---
description: 'React Query 용어'
tags: ['React Query', 'introduction']
sidebar_position: 1
---

# React Query

쿼리 캐시(query cache): 서버에서 데이터를 가져오고 저장한 값을 보고 쿼리 캐시라고 합니다.

- 쿼리 캐시는 인메모리로 저장합니다. 그래서 새로고침하면 없기 때문에 refetch합니다.

Stale Time: 요청한 쿼리가 유효하다고 간주하는 시간입니다.

- 기본값으 `0`으로 설정되어 있습니다. 다른 사용자가 데이터를 갱신했을 가능성이 높기 때문에 둔 설정입니다.
- 그냥 두면 서버에 요청횟수가 너무 많아질 수 있습니다. 어림잡아 20초 정도 설정하면 무난합니다. <!-- tkdodo의 권고입니다. -->
- 부모컴포넌트에서 호출하고 자식 컴포넌트에서 호출하는데 랜더링을 나중에 처리해서 또 요청할 가능성이 있으면 Stale Time 설정으로 막을 수 있습니다.
- Stale Time 설정은 비즈니스 도메인의 문제입니다. 자주 갱신할지 갱신을 막을지 맥락에 따라 다릅니다.

Query Invalidation: 요청한 쿼리가 유효하지 않다고 처리하는 것입니다.

- Stale Time이 지나기 전이라도 유효하지 않다고 처리하면 refetch합니다.
