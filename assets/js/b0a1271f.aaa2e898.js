"use strict";(self.webpackChunkarch_spatula_github_io=self.webpackChunkarch_spatula_github_io||[]).push([[61423],{96455:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var t=r(85893),a=r(11151);const o={title:"request waterfall \ud574\uacb0",authors:["arch-spatula"],tags:["react","custom hook"],description:"\ub85c\uadf8\uc778\ud558\uace0 \ud648\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud558\uba74 \ud558\uba74 \ub85c\ub529 \uc2a4\ud53c\ub108\uac00 \ubcf4\uc785\ub2c8\ub2e4. \uc798 \ubab0\ub790\uc9c0\ub9cc \uc0c1\ub2f9\ud788 \uae30\ucd08\uac00 \uc5c6\ub294 \uc9d3\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4.",toc_max_heading_level:6},s="request waterfall \ud574\uacb0",c={permalink:"/blog/2023/07/03/request-waterfal",editUrl:"https://github.com/arch-spatula/arch-spatula.github.io/blob/dev/blog/2023-07-03-request-waterfal.md",source:"@site/blog/2023-07-03-request-waterfal.md",title:"request waterfall \ud574\uacb0",description:"\ub85c\uadf8\uc778\ud558\uace0 \ud648\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud558\uba74 \ud558\uba74 \ub85c\ub529 \uc2a4\ud53c\ub108\uac00 \ubcf4\uc785\ub2c8\ub2e4. \uc798 \ubab0\ub790\uc9c0\ub9cc \uc0c1\ub2f9\ud788 \uae30\ucd08\uac00 \uc5c6\ub294 \uc9d3\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4.",date:"2023-07-03T00:00:00.000Z",formattedDate:"2023\ub144 7\uc6d4 3\uc77c",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"custom hook",permalink:"/blog/tags/custom-hook"}],readingTime:8.22,hasTruncateMarker:!0,authors:[{name:"arch-spatula",title:"Cook-Book \ub9ce\uc774 \ub9cc\ub4ed\ub2c8\ub2e4",url:"https://github.com/arch-spatula",imageURL:"https://github.com/arch-spatula.png",key:"arch-spatula"}],frontMatter:{title:"request waterfall \ud574\uacb0",authors:["arch-spatula"],tags:["react","custom hook"],description:"\ub85c\uadf8\uc778\ud558\uace0 \ud648\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud558\uba74 \ud558\uba74 \ub85c\ub529 \uc2a4\ud53c\ub108\uac00 \ubcf4\uc785\ub2c8\ub2e4. \uc798 \ubab0\ub790\uc9c0\ub9cc \uc0c1\ub2f9\ud788 \uae30\ucd08\uac00 \uc5c6\ub294 \uc9d3\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4.",toc_max_heading_level:6},unlisted:!1,prevItem:{title:"nav \ub77c\uc6b0\ud2b8\ub97c \ud65c\uc6a9\ud574\uc11c \uc0c1\ud0dc\uad00\ub9ac\ud558\uae30",permalink:"/blog/2023/07/05/nav-state"},nextItem:{title:"useOutSideClick",permalink:"/blog/2023/06/28/"}},i={authorsImageUrls:[void 0]},l=[{value:"\uc65c \ud574\uacb0\ud574\uc57c \ud558\ub294\uac00?",id:"\uc65c-\ud574\uacb0\ud574\uc57c-\ud558\ub294\uac00",level:2},{value:"\ub204\uad70\uac00 \uba3c\uc800 \ud574\uacb0\ud588\ub294\uac00?",id:"\ub204\uad70\uac00-\uba3c\uc800-\ud574\uacb0\ud588\ub294\uac00",level:2},{value:"\uc5b4\ub5bb\uac8c \ud574\uacb0\ud558\ub294\uac00?",id:"\uc5b4\ub5bb\uac8c-\ud574\uacb0\ud558\ub294\uac00",level:2}];function d(e){const n={a:"a",code:"code",del:"del",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"\ub85c\uadf8\uc778\ud558\uace0 \ud648\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud558\uba74 \ud558\uba74 \ub85c\ub529 \uc2a4\ud53c\ub108\uac00 \ubcf4\uc785\ub2c8\ub2e4. \uc798 \ubab0\ub790\uc9c0\ub9cc \uc0c1\ub2f9\ud788 \uae30\ucd08\uac00 \uc5c6\ub294 \uc9d3\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://user-images.githubusercontent.com/84452145/252219174-765f2a02-48cf-41d3-9dd5-cdc6181f4ab7.gif",alt:"request waterfall - 1"})}),"\n",(0,t.jsx)(n.p,{children:"\uc774 \uc544\ud2f0\ud074 \uc704\uc5d0\uc11c \ub85c\uadf8\uc778 \ud6c4 \ub610 \ub85c\ub529\ud558\ub294 \ud604\uc0c1\uc744 \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h2,{id:"\uc65c-\ud574\uacb0\ud574\uc57c-\ud558\ub294\uac00",children:"\uc65c \ud574\uacb0\ud574\uc57c \ud558\ub294\uac00?"}),"\n",(0,t.jsx)(n.p,{children:"UX\uc801\uc73c\ub85c\ub3c4 \ud574\uacb0\ud574\uc57c \ud558\ub294 \ubb38\uc81c\ub294 \ub9de\uc2b5\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc720\uc800\ub294 A\ub97c \ub2ec\ub77c\uace0 \ud558\uace0 \ucc98\ub9ac\ud558\ub97c \uae30\ub2e4\ub9b0 \ud6c4\uc5d0 A\ub97c \ubc1b\uc544\uc57c \ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc 2\ubc88\uc758 \ub2e4\ub978 \uc2a4\ud53c\ub108\ub97c \ubcf4\uc5ec\uc900 \ub2e4\ub294 \uac83\uc740 2\ubc88\uc758 request-response \ub77c\uc774\ud504 \uc0ac\uc774\ud074\uc744 \ubcf4\uc5ec\uc8fc\ub294 \uac83\uc785\ub2c8\ub2e4. A\ub97c \ub2ec\ub77c\uace0 \ud558\uace0 \uc7a0\uc2dc \uae30\ub2e4\ub838\ub2e4\uac00 B\ub97c \ubcf4\uc5ec\uc8fc\uace0 B\ub97c \uae30\ub2e4\ub9ac\ub2e4\uac00 \ub2e4\uc2dc A\ub97c \uc8fc\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uadf8\ub0e5 1\ubc88 \uae30\ub2e4\ub9ac\uac8c \ud558\ub294 \uac83\uc774 UX\uc801\uc73c\ub85c \ub354 \uc88b\uc2b5\ub2c8\ub2e4. \uc774\uac83\uc740 action cost \uad00\uc810\uc774 \uc544\ub2c8\ub77c \uc2dc\uc2a4\ud15c \ud53c\ub4dc\ubc31 \uad00\uc810\uc5d0\uc11c \ud544\uc694\ud55c \uac83\uc785\ub2c8\ub2e4. \uc720\uc800\uc5d0\uac8c \ubd88\ud544\uc694\ud55c 2\ubc88\uc9f8 \uc694\uccad\uc744 \ud55c\ub2e4\ub294 \uc815\ubcf4\ub97c \uc228\uae30\ub294 \ud574\uacb0\ucc45\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h2,{id:"\ub204\uad70\uac00-\uba3c\uc800-\ud574\uacb0\ud588\ub294\uac00",children:"\ub204\uad70\uac00 \uba3c\uc800 \ud574\uacb0\ud588\ub294\uac00?"}),"\n",(0,t.jsxs)(n.p,{children:["\uc0ac\uc2e4 \uc774 \uae00\uc740 \uc544\ub798 \uc544\ud2f0\ud074\uc744 \ud574\uacb0(\uc801\uc6a9)\uc744 \uba3c\uc800\ud558\uace0 \uc5ec\uae30\uc11c \uc77c\ubd80\ub97c \ud480\uc5b4 \uc4f0\ub294 \uac83\uc785\ub2c8\ub2e4. \ub610 \uc800\ubcf4\ub2e4 \ub354 \uc798\ud588\ub2e4\uace0 \uc0dd\uac01\ud558\ub294 \uc6d0\ud2f0\ub4dc \ud504\ub9ac\uc628\ubcf4\ub529 \ub808\ud3ec\uc758 \uc77c\ubd80\ub97c \ubcf4\uace0 \ubc30\ub080 \uac83\uc785\ub2c8\ub2e4. ",(0,t.jsx)(n.del,{children:"\uc8c4\uc758\uc2dd\uc744 \uac16\uc744 \ud544\uc694\ub294 \uc788\uc9c0\ub9cc \uc0ac\uc2e4 \ubcc4\ub85c \uc5c6\uc2b5\ub2c8\ub2e4."})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://tkdodo.eu/blog/react-query-meets-react-router",children:"React Query meets React Router - tkdodo"})}),"\n",(0,t.jsx)(n.p,{children:"\ub180\ub78d\uac8c\ub3c4 \ubc88\uc5ed\ub3c4 \uc62c\ub77c\uc654\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://itchallenger.tistory.com/719",children:"\ub9ac\uc561\ud2b8 \ucffc\ub9ac : \ub9ac\uc561\ud2b8 \ub77c\uc6b0\ud130\uc640 \uc5f0\uacc4\ud558\uae30"})}),"\n",(0,t.jsx)(n.h2,{id:"\uc5b4\ub5bb\uac8c-\ud574\uacb0\ud558\ub294\uac00",children:"\uc5b4\ub5bb\uac8c \ud574\uacb0\ud558\ub294\uac00?"}),"\n",(0,t.jsxs)(n.p,{children:["SSR\uc758 ",(0,t.jsx)(n.code,{children:"getServerSideProps"}),"\ub97c \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0ac\uc774\ub4dc\uc5d0\uc11c \ud749\ub0b4\ub0bc \uc218\uc788\uc2b5\ub2c8\ub2e4. CSR\uc758 \ud504\ub9ac\ud328\uce6d \uc804\ub7b5\uc785\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="ProtectRoutes.ts"',children:"import { redirect } from 'react-router-dom';\nimport { checkLogin } from '..';\nimport { ROUTE_PATHS } from '@/constant/config';\n\ntype Direction = 'signin' | 'cards';\n\nconst DirectionMap: { [key in Direction]: () => null } = {\n  cards: () => {\n    if (checkLogin()) throw redirect(ROUTE_PATHS.CARDS);\n    return null;\n  },\n  signin: () => {\n    if (!checkLogin()) throw redirect(ROUTE_PATHS.SIGN_IN);\n    return null;\n  },\n} as const;\n\nexport function protectRoutes(direction: Direction) {\n  return DirectionMap[direction];\n}\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="route.ts"',children:"const routes = createBrowserRouter([\n  {\n    path: ROUTE_PATHS.WELCOME,\n    element: <Layout />,\n    children: [\n      {\n        index: true,\n        element: <Landing />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.SIGN_IN,\n        element: <SignIn />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.SIGN_UP,\n        element: <SignUp />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.CARDS,\n        element: <Cards />,\n        loader: protectRoutes('signin'),\n      },\n      {\n        path: ROUTE_PATHS.DECK,\n        element: <Deck />,\n        loader: protectRoutes('signin'),\n      },\n      {\n        path: ROUTE_PATHS.SETTING,\n        element: <Setting />,\n        loader: protectRoutes('signin'),\n      },\n    ],\n    errorElement: <NotFound />,\n  },\n]);\n\nfunction Router() {\n  return <RouterProvider router={routes} />;\n}\n\nexport default Router;\n"})}),"\n",(0,t.jsx)(n.p,{children:"\uc608\uc804\uc5d0 loader \ub9ac\ub2e4\uc774\ub809\ud305\uc744 \ucc98\ub9ac\ud558\uae30 \uc704\ud587 \uc791\uc131\ud588\ub358 \ucf54\ub4dc\uc785\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uac16\uace0 \uc788\ub358 \ub85c\uc9c1\uc740 2\uac1c\uc785\ub2c8\ub2e4. \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub85c token\uc774 \uc788\uc73c\uba74 \uc811\uadfc\ud558\uc9c0 \ub9d0\uc544\uc57c \ud560 \ud398\uc774\uc9c0\ub97c \ub9c8\uc6b4\ud2b8 \uc2dc\ud0a4\uae30 \uc804\uc5d0 \ub9ac\ub2e4\uc774\ub809\ud305\uc744 loader\uc5d0\uc11c \ud638\ucd9c\ud558\ub294 \uac83\uc73c\ub85c \uae5c\ubc15\uc784\uc744 \ubc29\uc9c0\ud569\ub2c8\ub2e4. \ub9cc\uc57d \ud574\ub2f9 \ud398\uc774\uc9c0\uc5d0 \ucef4\ud3ec\ub10c\ud2b8 \uc18d\uc5d0 \uc704\uce58\ud558\uba74 \uae5c\ubc15\uc784\uc774 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:"\ud558\uc9c0\ub9cc \uc88b\uc740 \ucee8\ubca4\uc158\uc774 \uc544\ub2cc \uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uad00\uc2ec\uc0ac\uc758 \ubb38\uc81c\uc785\ub2c8\ub2e4. loader\ub294 \uadf8 \ud2b9\uc815 \ud398\uc774\uc9c0\uac00 \uba3c\uc800 \ucc98\ub9ac\ud574\uc8fc\uae30 \ubc14\ub77c\ub294 \ub85c\uc9c1\uc744 \ucc98\ub9ac\ud574\ub2ec\ub77c\ub294 \uac83\uc785\ub2c8\ub2e4. \uadf8\ub7f0 \uce21\uba74\uc5d0\uc11c loader \ud568\uc218\ub294 page\uc5d0 \uc874\uc7ac\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="Page.tsx"',children:"export function loader() {\n  return null;\n}\n\nfunction Page() {\n  return <div></div>;\n}\n\nexport default Page;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\uc704\uc640 \uac19\uc740 \uc608\uc2dc\ub85c \uc791\uc131\ud558\ub294 \uac83\uc774 \uc77c\ubc18\uc801\uc785\ub2c8\ub2e4. ",(0,t.jsx)(n.code,{children:"loader"}),"\ub294 ",(0,t.jsx)(n.code,{children:"getServerSideProps"}),"\ucc98\ub7fc \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud638\ucd9c\ud558\uae30 \uc804\uc5d0 \uba3c\uc800 \uc2e4\ud589\ud558\ub294 \ud568\uc218\uc785\ub2c8\ub2e4. \uadf8\ub0e5 ",(0,t.jsx)(n.code,{children:"loader"})," \ud639\uc740 ",(0,t.jsx)(n.code,{children:"loaderPageName"}),"\uc73c\ub85c \uba85\uba85\ud558\ub294 \uac83\ub3c4 \ucee8\ubca4\uc158\uc785\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.p,{children:"\ucee8\ubca4\uc158\uc0c1 \uac19\uc740 \ubaa8\ub4c8\uc5d0 \uc704\uce58\uc2dc\ud0a4\ub294 \uac83\uc744 \ubcf4\uace0 coLocation\uc774\ub77c\uace0 \ubd80\ub985\ub2c8\ub2e4. deno fresh\uc5d0\uc11c\ub3c4 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub9c8 \ub2e4\ub978 \uba54\ud0c0\ud504\ub808\uc784\uc6cc\ud06c\uc5d0\uc11c\ub3c4 \ubcfc \uc218 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc800\uc758 \uacbd\uc6b0 coLocation\uc744 \uae7c\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub9c8\ub2e4 \uace0\uc720\ud55c loader \ub85c\uc9c1\uc774 \ub9ce\uc9c0 \uc54a\uc544\uc11c util\uc5d0\uc11c \uc815\uc758\ud558\uace0 Route \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ud638\ucd9c\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="cardLoader"',children:"import { cardsQuery } from '@/utils';\nimport queryClient from '@/libs/queryClient';\n\nexport const cardLoader = () => async () => {\n  const query = () => ({\n    queryKey: ['cards'],\n    queryFn: getCardsAPI,\n    staleTime: 5000,\n  });\n\n  return (\n    queryClient.getQueryData<Card[]>(query.queryKey) ??\n    (await queryClient.fetchQuery(query))\n  );\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"loader"}),"\ub294 \ubc18\ub4dc\uc2dc \uc5b4\ub5a4 \uac12\uc744 \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4. \uc989 void \ud0c0\uc785\ud568\uc218\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc5ec\uae30\uc11c \ubd10\uc57c \ud560 \uac83\uc740 ",(0,t.jsx)(n.code,{children:"queryClient"}),"\uc5d0\uc11c \uba3c\uc800 \ub370\uc774\ud130(query-cache)\ub97c \uc811\uadfc\ud558\uace0 \uc5c6\uc73c\uba74 \uc694\uccad\uc744 \ubcf4\ub0b4\ub294 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud569\ub2c8\ub2e4. ",(0,t.jsx)(n.code,{children:"queryClient"}),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\ub294 loader\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub3c4 hook\ub3c4 \uc544\ub2c8\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \uc5ec\uae30\uc11c \uc8fc\uc758\ud560 \uac83\uc774 \uc788\ub294\ub370 ",(0,t.jsx)(n.code,{children:"queryClient"}),"\ub294 \uc2f1\uae00\ud2bc\ucc98\ub7fc \ubaa8\ub450 \ub3d9\uc77c\ud55c \uc778\uc2a4\ud134\uc2a4\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uac8c \ub300\uc785\ud574\uc57c \ud569\ub2c8\ub2e4. ",(0,t.jsx)(n.code,{children:"App"})," \ud639\uc740 ",(0,t.jsx)(n.code,{children:"index"}),"\uc5d0\uc11c Provider\ub85c \ub300\uc785\ud55c ",(0,t.jsx)(n.code,{children:"queryClient"}),"\ub791 \ub3d9\uc77c\ud55c \uc778\uc2a4\ud134\uc2a4\ub85c \uc811\uadfc\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"loader"}),"\uc5d0\uc11c \uc5b4\ub5a4 \ub85c\uc9c1\uc744 \ucc98\ub9ac\ud558\uace0 \ubc18\ud658\uac12\ub3c4 \uc811\uadfc\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.p,{children:["\ubc18\ud658\uac12\uc740 Page \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c ",(0,t.jsx)(n.code,{children:"useLoaderData"}),"\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useQuery } from '@tanstack/react-query';\nimport { cardLoader, cardsQuery } from '@/utils';\nimport { useLoaderData } from 'react-router-dom';\n\nexport function useCards() {\n  const loaderCards = useLoaderData() as Awaited<\n    ReturnType<ReturnType<typeof cardLoader>>\n  >;\n\n  const query = cardsQuery();\n  const {\n    data: cards,\n    isLoading,\n    error,\n  } = useQuery({ ...query, initialData: loaderCards });\n\n  return { cards, isLoading, error };\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\ubc18\ud658\uac12\uc744 page \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ubc14\ub85c \uc811\uadfc\ud558\uc9c0 \uc54a\uace0 custom hook\uc5d0\uc11c \uc811\uadfc\ud588\uc2b5\ub2c8\ub2e4. \ub3d9\uc77c\ub85c\uc9c1\uc774 2\ubc88 \uc0ac\uc6a9\ub418\uc5c8\uae30 \ub54c\ubb38\uc5d0 \ucd94\ucd9c\uc744 \uacb0\uc815\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(n.p,{children:["\uc704 \uc608\uc2dc\uc758 \uacbd\uc6b0 loader\ub85c \uc2e4\ud589\ud55c \ubc18\ud658\uac12\uc744 \uba3c\uc800 \uc811\uadfc\ud569\ub2c8\ub2e4. \ub610 loader\ub97c \ud0c0\uc785\uc9c0\uc815\uc5d0 \ud65c\uc6a9\ud558\uba74 typesafe\ud558\uac8c assertion\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc9c0\uae08 \uc0c1\ud669\uc5d0\uc11c\ub294 \uc77c\ub2e8 \uba3c\uc800 \ubbff\uc74c(",(0,t.jsx)(n.del,{children:"\uc88b\uc88b\uc18c?"}),")\uc73c\ub85c \uac00\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.p,{children:["\uba3c\uc800 \uc11c\ubc84\uc5d0 \uc694\uccad\ud558\uace0 \uc2e4\ud589\ud55c \uacb0\uacfc\ub97c ",(0,t.jsx)(n.code,{children:"loaderCards"}),"\ub97c \ucd08\uae43\uac12\uc73c\ub85c \uc9c0\uc815\ud558\uba74 react-query\uc758 \uacbd\uc6b0 \uc77c\ub2e8 cache\uac00 \uc788\uae30 \ub54c\ubb38\uc5d0 onMount \ub77c\uc774\ud504 \uc0ac\uc774\ud074\uc5d0 isLoading flag\ub294 \ud65c\uc131\ud654\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function Cards() {\n  const { cards, isLoading, error } = useCards();\n\n  return <>{/* ... \uc0dd\ub7b5 */}</>;\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\ub85c\uc9c1\uc774 \uc911\ubcf5\ud574\uc11c ",(0,t.jsx)(n.code,{children:"useCard"})," custom hook\uc73c\ub85c \ub2f4\uc2b5\ub2c8\ub2e4. \ub610 custom hook\uc774\uc9c0\ub9cc \uce90\uc2dc\ub97c \uacf5\uc720\ud558\uae30 \ub54c\ubb38\uc5d0 \ud398\uc774\uc9c0 \uc804\ud658\uc5d0 \ubc1c\uc0dd\ud558\ub294 loading \uc2a4\ud53c\ub108\ub3c4 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://user-images.githubusercontent.com/84452145/252223625-04292074-2754-46c6-9ec3-6038689a7c1b.gif",alt:"request waterfall - 2"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\ub85c\uadf8\uc778 \uc2dc\uc810\uc5d0 1\ubc88\ub9cc \uae30\ub2e4\ub9ac\uace0 \ud398\uc774\uc9c0\ub97c \ubc29\ubb38\ud560 \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.li,{children:"\ub2e4\ub978 \ud398\uc774\uc9c0\ub97c \uc811\uadfc\ud574\ub3c4 \ubd88\ud544\uc694\ud55c \ub85c\ub529 \uc2a4\ud53c\ub108\uac00 \ubcf4\uc774\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>s});var t=r(67294);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);