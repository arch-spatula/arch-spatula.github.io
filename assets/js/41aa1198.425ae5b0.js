"use strict";(self.webpackChunkarch_spatula_github_io=self.webpackChunkarch_spatula_github_io||[]).push([[58894],{3905:(e,r,t)=>{t.d(r,{Zo:()=>p,kt:()=>y});var n=t(67294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=n.createContext({}),i=function(e){var r=n.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):s(s({},r),e)),t},p=function(e){var r=i(e.components);return n.createElement(u.Provider,{value:r},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=i(t),m=a,y=c["".concat(u,".").concat(m)]||c[m]||d[m]||o;return t?n.createElement(y,s(s({ref:r},p),{},{components:t})):n.createElement(y,s({ref:r},p))}));function y(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,s=new Array(o);s[0]=m;var l={};for(var u in r)hasOwnProperty.call(r,u)&&(l[u]=r[u]);l.originalType=e,l[c]="string"==typeof e?e:a,s[1]=l;for(var i=2;i<o;i++)s[i]=t[i];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},89922:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var n=t(87462),a=(t(67294),t(3905));const o={title:"\uc5d0\ub7ec \ubc14\uc6b4\ub354\ub9ac \uc801\uc6a9",authors:["arch-spatula"],tags:["react","error boundary","\uc608\uc678\ucc98\ub9ac"],description:"\ub9ac\uc561\ud2b8\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8 \ucc28\uc6d0\uc5d0\uc11c \uc608\uc678\ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc6b0\uc544\ud558\uac8c \ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",toc_max_heading_level:6},s="\uc5d0\ub7ec \ubc14\uc6b4\ub354\ub9ac \uc801\uc6a9",l={permalink:"/blog/2023/07/27/error-boundary",editUrl:"https://github.com/arch-spatula/arch-spatula.github.io/blob/dev/blog/2023-07-27-error-boundary.md",source:"@site/blog/2023-07-27-error-boundary.md",title:"\uc5d0\ub7ec \ubc14\uc6b4\ub354\ub9ac \uc801\uc6a9",description:"\ub9ac\uc561\ud2b8\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8 \ucc28\uc6d0\uc5d0\uc11c \uc608\uc678\ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc6b0\uc544\ud558\uac8c \ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",date:"2023-07-27T00:00:00.000Z",formattedDate:"2023\ub144 7\uc6d4 27\uc77c",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"error boundary",permalink:"/blog/tags/error-boundary"},{label:"\uc608\uc678\ucc98\ub9ac",permalink:"/blog/tags/\uc608\uc678\ucc98\ub9ac"}],readingTime:17.21,hasTruncateMarker:!0,authors:[{name:"arch-spatula",title:"Cook-Book \ub9ce\uc774 \ub9cc\ub4ed\ub2c8\ub2e4",url:"https://github.com/arch-spatula",imageURL:"https://github.com/arch-spatula.png",key:"arch-spatula"}],frontMatter:{title:"\uc5d0\ub7ec \ubc14\uc6b4\ub354\ub9ac \uc801\uc6a9",authors:["arch-spatula"],tags:["react","error boundary","\uc608\uc678\ucc98\ub9ac"],description:"\ub9ac\uc561\ud2b8\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8 \ucc28\uc6d0\uc5d0\uc11c \uc608\uc678\ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc6b0\uc544\ud558\uac8c \ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",toc_max_heading_level:6},prevItem:{title:"MSW \ubc88\ub4e4 \uc0ac\uc774\uc988 2\ubc30 \uc774\ubca4\ud2b8",permalink:"/blog/2023/07/31/"},nextItem:{title:"axios, react-query \ud0c0\uc785\uc9c0\uc815",permalink:"/blog/2023/07/24/axios-react-query"}},u={authorsImageUrls:[void 0]},i=[{value:"\ubbf8\uc124\uce58 \ubc29\ubc95",id:"\ubbf8\uc124\uce58-\ubc29\ubc95",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"retry \ucd94\uac00",id:"retry-\ucd94\uac00",level:3},{value:"\ub3d9\uc791\uc6d0\ub9ac",id:"\ub3d9\uc791\uc6d0\ub9ac",level:2},{value:"suspense\uc5d0 \ub300\ud55c \uace0\ubbfc",id:"suspense\uc5d0-\ub300\ud55c-\uace0\ubbfc",level:2}],p={toc:i},c="wrapper";function d(e){let{components:r,...t}=e;return(0,a.kt)(c,(0,n.Z)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\ub9ac\uc561\ud2b8\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8 \ucc28\uc6d0\uc5d0\uc11c \uc608\uc678\ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc6b0\uc544\ud558\uac8c \ucc98\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ubb3c\ub860 \uc800\uc758 \ubc29\ubc95\uc740 \uc6b0\uc544\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ucc38\uace0\ub85c \uc800\ub294 React-Query\uc640 \uc870\ud569\ud574\uc11c \uc0ac\uc6a9\ud558\ub294 \uac83\ub3c4 \ub2e4\ub8f9\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\ubbf8\uc124\uce58-\ubc29\ubc95"},"\ubbf8\uc124\uce58 \ubc29\ubc95"),(0,a.kt)("p",null,"\ud65c\uc6a9\ud560 \uc218 \uc788\ub294 \uc804\ub7b5\uc774\uc9c0\ub9cc UX/UI \ub514\uc790\uc774\ub108\uc600\ub358 \uc800\ub85c\uc11c\ub294 \ubcc4\ub85c \uc88b\uc740 \ubc29\ubc95\uc774\ub77c\uace0 \uc548 \ubd05\ub2d9\ub2c8\ub2e4. \uc800\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ucd5c\ub300\ud55c \ud53c\ub4dc\ubc31\uc744 \uc81c\uacf5\ud574\uc57c \ud55c\ub2e4\uace0 \ubd05\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc774\ub7f0 \ubc29\ubc95\uc744 \ud65c\uc6a9\ud558\uba74 Error \uac1d\uccb4\uc758 \uba54\uc2dc\uc9c0\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc5b4\uc11c \uc7a5\uc560\uac00 \ubc1c\uc0dd\ud588\ub294\ub370 \ubb34\uc2a8\uc774\uc720\ub85c \ubc1c\uc0dd\ud588\ub294\uc9c0 \ubaa8\ub985\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc720\uc800\uac00 \uc2eb\uc5b4\ud558\ub294 \uac83\uc740 \ubb34\ub825\uac10\uc785\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\uac00 \uc2eb\uc5b4\ud558\ub294 \uac83\uc740 \uae34 \ub300\uae30 \uc2dc\uac04\uc774 \uc544\ub2c8\ub77c \ub300\uae30\uc2dc\uac04 \ub3d9\uc548 \uc544\ubb34\uac83\ub3c4 \ud560 \uc218 \uc5c6\ub294 \ubb34\ub825\uac10\uc744 \uc2eb\uc5b4\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc720\uc800\uc5d0\uac8c \uc5d0\ub7ec\uc758 \uc885\ub958\ub97c \ubcf4\uc5ec\uc8fc\uba74 \ud574\ub2f9 \ud68c\uc0ac\uc5d0\uac8c \ubcf4\uace0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9cc\uc57d \uc774 \ud68c\uc0ac\uac00 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc774 \uc5c6\ub2e4\uba74 \ub2f9\uc5f0\ud788 \uc720\uc6a9\ud560 \uac83\uc785\ub2c8\ub2e4. \ub610 \uc5d0\ub7ec\uc758 \uc885\ub958\uc5d0 \ub530\ub77c \uc7a5\uc560 \uc0c1\ud669\uc758 \uc885\ub958\ub97c \ud30c\uc545\ud558\uace0 \uac70\uae30\uc5d0 \ub9de\uac8c \ub300\uc751\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud68c\uc0ac \uc11c\ubc84\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc7a5\uc560\uc778\uc9c0 \ubcf8\uc778 \uc778\ud130\ub137 \ud1b5\uc2e0 \ubb38\uc81c\uc778\uc774 \ucd94\ub860\uc774 \ub354 \uc27d\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="ErrorBoundary.tsx"',title:'"ErrorBoundary.tsx"'},"import { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children?: ReactNode;\n  fallback: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n  };\n\n  public static getDerivedStateFromError(_: Error): State {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('Uncaught error:', error, errorInfo);\n  }\n\n  public render() {\n    if (this.state.hasError) {\n      return this.props.fallback;\n    }\n\n    return this.props.children;\n  }\n}\n")),(0,a.kt)("p",null,"\ud074\ub798\uc2a4\ud615 \ucef4\ud3ec\ub10c\ud2b8\ub85c \uc5d0\ub7ec \ubc14\uc6b4\ub354\ub9ac\ub97c \uc801\uc6a9\ud55c \uc608\uc2dc\uc785\ub2c8\ub2e4. \uc774\ub807\uac8c \ub418\uba74 \ub77c\uc774\ud504 \uc0ac\uc774\ud074\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uba74 hasError\ub97c true\ub85c \uac31\uc2e0\ud569\ub2c8\ub2e4. \uc774\ub807\uac8c \ub418\uba74 render \uba54\uc11c\ub4dc\ub97c \uc2e4\ud589\ud574\uc57c \ud558\ub294 \uc2dc\uc810\uc5d0 \uc6d0\ub798 \ucef4\ud3ec\ub10c\ud2b8\ub294 \ubb34\uc2dc\ud569\ub2c8\ub2e4. fallback\uc744 \ub300\uc2e0 \ub79c\ub354\ub9c1\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="Deck.tsx"',title:'"Deck.tsx"'},"function Deck() {\n  return (\n    <ErrorBoundary fallback={<h2>something went wrong???</h2>}>\n      <DeckList />\n    </ErrorBoundary>\n  );\n}\n\nexport default Deck;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="Deck/Subcomponent/DeckList.tsx"',title:'"Deck/Subcomponent/DeckList.tsx"'},"import { useCards } from '@/hooks';\n\nexport function DeckList() {\n  const { cards } = useCards();\n\n  const IntervalArray: { title: string; deck: Card[] }[] = useMemo(() => {\n    // ... \uc0dd\ub7b5\n  }, [cards]);\n\n  return (\n    <DeckListContainer>\n      {IntervalArray.map((deckItem, idx) => (\n        <DeckItem title={deckItem.title} cards={deckItem.deck} key={idx} />\n      ))}\n    </DeckListContainer>\n  );\n}\n")),(0,a.kt)("p",null,"\uc5ec\uae30 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ud1b5\uc2e0\uc744 \ucc98\ub9ac\ud569\ub2c8\ub2e4. \ud1b5\uc2e0\uc744 \ucc98\ub9ac\ud558\uba74 \ud56d\uc0c1 \uc2e4\ud328\uac00\ub2a5\uc131\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ub9ac\uc561\ud2b8\uc758 \uacbd\uc6b0 \uc0c1\uc704 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c ErrorBoundary\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc2dd\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c Error\uc5d0 \ub300\ud55c \uc815\ubcf4\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ubd80\ubaa8\uc758 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc5b4\ub5bb\uac8c Error\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \uc811\uadfc\ud558\uace0 \ud45c\uc2dc\ud560 \uc218 \uc788\ub294\uac00? \ub2e4\ub978 \ubb38\uc81c\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ub97c \ud654\uba74\uc5d0 \ud45c\uc2dc\ud558\ub294 \uac83\uc740 View\uc5d0 \ud574\ub2f9\ud558\ub294 \ub85c\uc9c1\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\uc5d0 \ub300\ud55c \uc815\ubcf4\ub294 \ubcf4\ud1b5 \ud1b5\uc2e0\uacfc \ub9ce\uc774 \ud558\uace0 \uad00\uc2ec\uc0ac\uac00 Controller\uc5d0 \uac00\uae5d\uc2b5\ub2c8\ub2e4. \uc989 \ud544\uc694\ud55c \uac83\uc740 \uc870\ud569\uc785\ub2c8\ub2e4. \uc5d0\ub7ec\ub9c8\ub2e4 \ub2e4\ub978 \ucef4\ud3ec\ub10c\ud2b8\uc5d0 \uc5d0\ub7ec\ub97c \ubcf4\uc5ec\uc918\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uacb0\ub860: \uadf8\ub0e5 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58\ud569\uc2dc\ub2e4. \uc5d0\ub7ec \uba54\uc2dc\uc9c0\ub97c \ubcf4\uc5ec\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4. React-Query\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\ub370 \uac19\uc774 \uc870\ud569\ud558\uae30 \ub354 \uc88b\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\uc124\uce58"},"\uc124\uce58"),(0,a.kt)("p",null,"\uc124\uce58\ud558\ub294 \uc804\ub7b5\uc785\ub2c8\ub2e4. \ubc88\ub4e4\uc0ac\uc774\uc988\uac00 \uadf8\ub807\uac8c \ud06c\ub2e4\uace0 \uc0dd\uac01\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud06c\ub2e4 \uc791\ub2e4\ub97c \ud310\ub2e8\ud558\uae30\uc5d0\ub294 \uc5b4\ub835\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc124\uce58\ud558\ub294 \uc804\ub7b5\uc774 \uc801\uc808\ud574\ubcf4\uc774\ub294 \uac83\uc740 ",(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/QueryErrorResetBoundary"},"React-Query\uac00 \uc5f0\uacc4\ud558\ub294 \uc608\uc2dc"),"\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \ub610 \ud1b5\uc2e0\uc744 \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \uc7ac\uc2dc\ub3c4\ud558\ub3c4\ub85d \uc7ac\uacf5\ud558\ub294 \uac83\ub3c4 \uc88b\uc740 UX\uc5d0 \ud574\ub2f9\ud558\ub294 \uac83\uc73c\ub85c \ubcf4\uc785\ub2c8\ub2e4. \ub9cc\uc57d\uc5d0\uc11c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud55c \ud074\ub77c\uc6b0\ub4dc \uc11c\ubc84\uac00 \uc790\uc8fc \uc8fd\uc5b4\uc11c \ud1b5\uc2e0\uc5d0\ub7ec\uac00 \uc790\uc8fc \ubc1c\uc0dd\ud558\uba74 \uc774\ub7f0 \ub300\uc751\ubc29\ubc95\ub3c4 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc81c\uacf5\ud558\ub294 \uac83\ub3c4 \ubd84\uba85 \uc88b\uc740 \uc804\ub7b5\uc774\ub77c\uace0 \ubd05\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/bvaughn/react-error-boundary"},"react-error-boundary - Github")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add react-error-boundary\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { EmptyCards } from '@/Components';\nimport { NowDeck } from './subcomponents';\n\nfunction Cards() {\n  return (\n    <ErrorBoundary FallbackComponent={EmptyCards}>\n      <NowDeck />\n    </ErrorBoundary>\n  );\n}\n\nexport default Cards;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { NoCardContainer, NoCardMessage } from './EmptyCards.style';\n\ntype EmptyCardsProps = {\n  error?: { success: boolean; msg: string };\n};\n\nexport function EmptyCards({ error }: EmptyCardsProps) {\n  return (\n    <NoCardContainer>\n      <NoCardMessage>{error ? error.msg : '\uce74\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.'}</NoCardMessage>\n    </NoCardContainer>\n  );\n}\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ucc98\ub9ac\ud558\uba74 \ub3d9\uc801\uc73c\ub85c Error fallback\uc5d0 error \uac1d\uccb4\ub97c \ub300\uc785\ud560 \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4. Error \uac1d\uccb4\uac00 \uc874\uc7ac\ud558\uba74 \uba54\uc2dc\uc9c0\ub97c \ubcf4\uc5ec\uc8fc\uace0 \uc5c6\uc73c\uba74 \ub2e4\ub978 \ud14d\uc2a4\ud2b8\ub97c \ub300\uc2e0 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. ",(0,a.kt)("del",{parentName:"p"},"\ub2e4\uc2dc\ubcf4\ub2c8\uae4c \uce74\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ubcf4\ub2e4 \ub354 \uc88b\uc740 \uba54\uc2dc\uc9c0\ub97c \ubcf4\uc5ec\uc918\uc57c \ud560 \uac83\uac19\uc2b5\ub2c8\ub2e4.")),(0,a.kt)("h3",{id:"retry-\ucd94\uac00"},"retry \ucd94\uac00"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { ErrorBoundary } from 'react-error-boundary';\nimport { NowDeck } from './subcomponents';\nimport { useQueryErrorResetBoundary } from '@tanstack/react-query';\n\nfunction Cards() {\n  const { reset } = useQueryErrorResetBoundary();\n\n  return (\n    <ErrorBoundary\n      onReset={reset}\n      fallbackRender={({ resetErrorBoundary, error }) => (\n        <EmptyCards error={error} resetErrorBoundary={resetErrorBoundary} />\n      )}\n    >\n      <NowDeck />\n    </ErrorBoundary>\n  );\n}\n\nexport default Cards;\n")),(0,a.kt)("p",null,"\uc7ac\uc694\uccad \ubc84\ud2bc\uc774 \ucc98\ub9ac\ud560 \ud568\uc218\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"resetErrorBoundary"),"\uc785\ub2c8\ub2e4. \ub77c\uc774\ube0c\ub7ec\ub9ac\uc5d0\uc11c \uc81c\uacf5\ud574\uc90d\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc \uc124\uc815\ud560 \ub54c ",(0,a.kt)("inlineCode",{parentName:"p"},"useQueryErrorResetBoundary"),"\uc5d0\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"reset"),"\uc744 ",(0,a.kt)("inlineCode",{parentName:"p"},"ErrorBoundary"),"\uc5d0 \ub300\uc785\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="EmptyCards.tsx"',title:'"EmptyCards.tsx"'},"import { Button } from '..';\nimport { ErrorCardMessage, NoCardMessage } from './EmptyCards.style';\n\ntype EmptyCardsProps = {\n  error: ErrorResponse;\n  resetErrorBoundary: (...args: any[]) => void;\n};\n\nexport function EmptyCards({ error, resetErrorBoundary }: EmptyCardsProps) {\n  return (\n    <ErrorCardMessage>\n      <NoCardMessage>{error.msg}</NoCardMessage>\n      <Button onClick={resetErrorBoundary}>retry</Button>\n    </ErrorCardMessage>\n  );\n}\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \uc801\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4. ",(0,a.kt)("inlineCode",{parentName:"p"},"resetErrorBoundary"),"\uc744 handler\ub85c props\ub85c \ubc1b\uc544 \uc6d0\ud558\ub294 Component \uc774\ubca4\ud2b8\uc5d0 \uc8fc\uc785\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("admonition",{title:"\ucc38\uace0",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"\uc800\ub294 \ubc31\uc5d4\ub4dc\ub97c \uc81c\uac00 \uc9c1\uc811 \uac1c\ubc1c\ud574\uc11c \ubaa8\ub4e0 Axios response Error\uc5d0 \uc788\ub294 data\uac00 \uc77c\uad00\uc801\uc73c\ub85c ",(0,a.kt)("inlineCode",{parentName:"p"},"{ success: boolean; msg: string }"),"\uc758 \ubaa8\uc591\uc744 \uac16\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("del",{parentName:"p"},"\uc9c1\uc811\ud574\uc11c \uc88b\uc740\uc810\ub3c4 \ubd84\uba85\uc788\uc2b5\ub2c8\ub2e4."))),(0,a.kt)("h2",{id:"\ub3d9\uc791\uc6d0\ub9ac"},"\ub3d9\uc791\uc6d0\ub9ac"),(0,a.kt)("admonition",{title:"\ucc38\uace0",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"\uc774\ubd80\ubd84\uc740 React-Query\uc758 \uc790\uc6d0\uacf5\uc720\ubc29\uc2dd\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. data\ub3c4 \uacf5\uc720\ud558\uc9c0\ub9cc API \ud568\uc218\uc758 \ud1b5\uc2e0 \uc0c1\ud0dc\ub3c4 query key\ub85c \uacf5\uc720\ud569\ub2c8\ub2e4. \uc989 \uc5d0\ub7ec \ub610\ud55c \uc804\ub2ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",{parentName:"admonition"},"2023\ub144 09\uc6d4\uc5d0 \ub2e4\uc2dc \ucd94\uac00\ud55c \ub0b4\uc6a9\uc785\ub2c8\ub2e4. React-Query\uc758 \ub3d9\uc791\uacfc loader\uac00 \uc5b4\ub5bb\uac8c \uc5f0\uacb0\ub41c \uac83\uc778\uc9c0 \uc758\ubb38\uc744 \uac00\uc9c8 \uc218 \uc788\uc5c8\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="util/loader.ts"',title:'"util/loader.ts"'},"import { protectRoutes } from '../protectRoutes';\nimport { cardsQuery } from '@/utils';\nimport queryClient from '@/libs/queryClient';\n\nexport const cardLoader = () => async () => {\n  const protect = protectRoutes('signin');\n  protect();\n\n  const query = cardsQuery();\n  try {\n    return (\n      queryClient.getQueryData<Card[]>(query.queryKey) ??\n      (await queryClient.fetchQuery(query))\n    );\n  } catch (error) {\n    queryClient.invalidateQueries({ queryKey: ['cards'] });\n    return [];\n  }\n};\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"cardLoader"),"\ub77c\ub294 loader \ud568\uc218\uc785\ub2c8\ub2e4. \uc774 loader \ud568\uc218\ub294 React-Router-DOM\uc5d0\uc11c \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \ub77c\uc6b0\ud305 \uc804\uc5d0 \uc2e4\ud589\ud558\uace0 \uc2f6\uc740 \ub85c\uc9c1\uc744 \ub123\uc744 \uc218 \uc788\ub294 \ud568\uc218\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc0ac\uc2e4 \uc608\uc804\uc5d0 ",(0,a.kt)("a",{parentName:"p",href:"/blog/2023/07/03/request-waterfal"},"request waterfall \ud574\uacb0"),"\uc5d0\uc11c \ub2e4\ub8ec \ub0b4\uc6a9\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc \uc608\uc678\ucc98\ub9ac\uac00 \ube60\uc84c\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c \uc9c0\uae08 \uc2dc\uc810\uc5d0 \ub2e4\ub8e8\ub294 \uac83\uc774 \uc801\uc808\ud574\ubcf4\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc704 loader\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uba74 loader\ud568\uc218\uac00 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c \ucf54\ub4dc\ub97c \ubd05\uc2dc\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="route.ts"',title:'"route.ts"'},"const routes = createBrowserRouter([\n  {\n    path: ROUTE_PATHS.WELCOME,\n    element: <Layout />,\n    children: [\n      {\n        index: true,\n        element: <Landing />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.SIGN_IN,\n        element: <SignIn />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.SIGN_UP,\n        element: <SignUp />,\n        loader: protectRoutes('cards'),\n      },\n      {\n        path: ROUTE_PATHS.CARDS,\n        element: <Cards />,\n        loader: protectRoutes('signin'),\n      },\n      {\n        path: ROUTE_PATHS.DECK,\n        element: <Deck />,\n        loader: protectRoutes('signin'),\n      },\n      {\n        path: ROUTE_PATHS.SETTING,\n        element: <Setting />,\n        loader: protectRoutes('signin'),\n      },\n      {\n        path: '*',\n        element: <NotFound />,\n      },\n    ],\n    errorElement: <ServerError />,\n  },\n]);\n\nfunction Router() {\n  return <RouterProvider router={routes} />;\n}\n\nexport default Router;\n")),(0,a.kt)("p",null,"\uc704 \ucf54\ub4dc\ub97c \ubcf4\uba74 ",(0,a.kt)("inlineCode",{parentName:"p"},"cardLoader"),"\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uba74 ",(0,a.kt)("inlineCode",{parentName:"p"},"errorElement"),"\ub85c \uc9c0\uc815\ub41c ",(0,a.kt)("inlineCode",{parentName:"p"},"<ServerError/>")," \ubcf4\uc5ec\uc904 \uac83\uc785\ub2c8\ub2e4. \ucc38\uace0\ub85c React-Router-DOM\ub3c4 \ub0b4\ubd80\uc801\uc73c\ub85c Error Boundary\ub97c \uc801\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc989 loader \ud568\uc218\ucc28\uc6d0\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uba74 ",(0,a.kt)("inlineCode",{parentName:"p"},"errorElement"),"\uac00 ",(0,a.kt)("inlineCode",{parentName:"p"},"catch"),"\ud574\uc8fc\ub294 \uac83\uc785\ub2c8\ub2e4. \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc2e4\ud328\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"cardLoader"),"\uac00 \ud588\ub294\ub370 \uc720\uc800\uc5d0\uac8c \ud53c\ub4dc\ubc31\uc5d4 ",(0,a.kt)("inlineCode",{parentName:"p"},"<ServerError/>"),"\ub97c \ubcf4\uc5ec\uc8fc\ub294\uac00? \ubb3c\ub860 \uc11c\ubc84\uac00 \uc2e4\ud328\ud55c \uac83\uc740 \ub9de\uc9c0\ub9cc \ud398\uc774\uc9c0 \ub9ac\uc18c\uc2a4\ub97c \uc804\ub2ec\ud558\ub294 vercel\uc758 \ub9ac\uc18c\uc2a4 \uc11c\ubc84\uac00 \uc2e4\ud328\ud55c \uac83\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc6b0\ub9ac\uac00 \uc791\uc131\ud55c ",(0,a.kt)("inlineCode",{parentName:"p"},"cardLoader"),"\uac00 \uc2e4\ud328\ud55c \uac83\uc740 \ub370\uc774\ud130\ub97c \uc8fc\uace0 \ubc1b\ub294 API\uac00 \uc2e4\ud328\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="util/loader.ts"',title:'"util/loader.ts"'},"import { protectRoutes } from '../protectRoutes';\nimport { cardsQuery } from '@/utils';\nimport queryClient from '@/libs/queryClient';\n\nexport const cardLoader = () => async () => {\n  const protect = protectRoutes('signin');\n  protect();\n\n  const query = cardsQuery();\n  try {\n    return (\n      queryClient.getQueryData<Card[]>(query.queryKey) ??\n      (await queryClient.fetchQuery(query))\n    );\n    // highlight-start\n  } catch (error) {\n    queryClient.invalidateQueries({ queryKey: ['cards'] });\n    return [];\n  }\n  // highlight-end\n};\n")),(0,a.kt)("p",null,"\ub2e4\uc2dc \ubd05\uc2dc\ub2e4. catch\ub97c \ud558\ub294 \uc774\uc720\ub294 cardLoader\uac00 \uc2e4\ud328\ud558\uba74 \ube48\ubc30\uc5f4\uc744 \ubc18\ud658\ud558\ub3c4\ub85d catch\ub97c \ud558\uace0 ",(0,a.kt)("inlineCode",{parentName:"p"},"<ServerError/>"),"\uac00 \ubcf4\uc774\ub294 \uac83\uc744 \ubc29\uc9c0\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\uc81c \uc5ec\uae30\uc11c \uc758\ubb38\uc774 \ub4e4\uc5b4\uc57c \ud569\ub2c8\ub2e4. ",(0,a.kt)("del",{parentName:"p"},"\uc774\ubbf8 React-Query\uc758 \uc790\uc6d0\uacf5\uc720 \ubc29\uc2dd\uc744 \uc774\ud574\ud588\uc73c\uba74 \ubcc4\ub85c \uc758\ubb38\uc744 \uac00\uc9c8 \ud544\uc694\ub294 \uc5c6\uc2b5\ub2c8\ub2e4.")," \uc774\ub807\uac8c \uc791\uc131\ud588\ub294\ub370\ub3c4 React-Query \uc5b4\ub5bb\uac8c \uc5d0\ub7ec\ub97c \uc54c \uc218 \uc788\ub294\uac00?"),(0,a.kt)("p",null,"React-Query\uc5d0\uc11c \uc8fc\uc758\ud560 \uc810 2\uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud558\ub098\ub294 QueryKey, API \ud568\uc218 2\uac00\uc9c0\ub97c \ub300\uc785\ud560 \ub54c \ub298 \uc8fc\uc758\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774 2\uac00\uc9c0\ub97c \ud1b5\ud574\uc11c \uc0c1\ud0dc\ub97c \uacf5\uc720\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import axios, { AxiosError } from 'axios';\nimport { axiosClient } from '../AxiosClient';\nimport { API_URLS } from '@/constant/config';\n// highlight-start\nasync function getCardsAPI() {\n  try {\n    const res = await axiosClient.get<{ documents: Card[] }>(API_URLS.CARDS);\n    return res.data.documents;\n  } catch (error) {\n    if (axios.isAxiosError<ErrorResponse>(error)) throw error.response?.data;\n  }\n  return [];\n}\n// highlight-end\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { useQuery } from '@tanstack/react-query';\nimport { cardLoader, cardsQuery } from '@/utils';\nimport { useLoaderData } from 'react-router-dom';\n\nexport function useCards() {\n  const loaderCards = useLoaderData() as Awaited<\n    ReturnType<ReturnType<typeof cardLoader>>\n  >;\n\n  const query = cardsQuery();\n  const {\n    data: cards,\n    isLoading,\n    error,\n  } = useQuery<Card[], ErrorResponse>({\n    // highlight-start\n    queryKey: ['cards'],\n    queryFn: getCardsAPI,\n    // highlight-end\n    staleTime: 5000,\n    initialData: loaderCards,\n    useErrorBoundary: true,\n  });\n\n  return { cards, isLoading, error };\n}\n")),(0,a.kt)("p",null,"\uc704\uc5d0\uc11c \ud45c\uc2dc\ud55c 2\uc758 \ud504\ub85c\ud37c\ud2f0\uac00 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://tkdodo.eu/blog/practical-react-query"},"tkdodo\uc758 \ud604\uc2e4\uc801\uc778 \ub9ac\uc561\ud2b8 \ucffc\ub9ac \uc2dc\ub9ac\uc988"),"\ub97c \uc77d\uc73c\uba74 \uc0c1\uc704 \ucef4\ud3ec\ub10c\ud2b8\ub4e0 \ud558\uc704 \ucef4\ud3ec\ub10c\ud2b8\ub4e0 \uc0c1\uad00 \uc5c6\uc774 \ud638\ucd9c\ud558\ub77c\uace0 \ud588\uc2b5\ub2c8\ub2e4. API \ud1b5\uc2e0\uc73c\ub85c \uac00\uc838\uc628 \ub370\uc774\ud130\ub97c \uce90\uc2f1\ud558\uace0 QueryKey\ub97c \ud1b5\ud574 \ub3d9\uc77c\ud55c \ub370\uc774\ud130\ub97c \uc811\uadfc\ud558\uae30 \ub54c\ubb38\uc5d0 \uc5ec\ub7ec \uacf3\uc5d0\uc11c \ud638\ucd9c\ud574\ub3c4 \ub41c\ub2e4\uace0 \ud588\uc2b5\ub2c8\ub2e4. \uc989 custom hook \ud615\ud0dc\ub85c \uc0c1\uc6a9\ud560 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4. \ub610 \ub9cc\uc57d\uc5d0 \ub79c\ub354\ub9c1 \uc18d\ub3c4\uac00 \ub124\ud2b8\uc6cc\ud06c \uc694\uccad \uc18d\ub3c4\ubcf4\ub2e4 \ub108\ubb34 \ub290\ub9ac\uac70\ub098 \ub85c\uc9c1\uc744 \uc774\uc0c1\ud558\uac8c \uc791\uc131\ud574\uc11c \ub098\uc911\uc5d0 mount \ub41c \uc790\uc2dd \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub610 \uc11c\ubc84 \ud638\ucd9c \ud560 \uac83 \uac19\uc740 \ubd88\uc0c1\uc0ac\uac00 \uc788\uc744 \uac83 \uac19\ub2e4\uba74 stale time\uc744 (\uc5b4\ub9bc\uc7a1\uc544 20\ucd08 \uc815\ub3c4) \uc9c0\uc815\ud558\ub77c\uace0 \ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc704\ub294 tkdodo\uc758 \uc77c\ubc18\uc801\uc778 \uc870\uc5b8\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc989 \uce90\uc2dc\ub97c \ud1b5\ud574 \ub3d9\uc77c\ud55c \uc0c1\ud0dc\ub97c \uc811\uadfc\ud558\uace0 getCardsAPI\uac00 data, error\uc5d0 \uac12\uc744 \uc800\uc7a5\ud569\ub2c8\ub2e4. \uc131\uacf5\ud558\uba74 data\uc5d0 \uc800\uc7a5\ud558\uace0 ",(0,a.kt)("a",{parentName:"p",href:"https://tkdodo.eu/blog/react-query-fa-qs#the-fetch-api"},"\uc2e4\ud328\ud558\uba74 error\uc5d0 \uc800\uc7a5"),"\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc2dc loader\ub97c \ubd05\uc2dc\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="util/loader.ts"',title:'"util/loader.ts"'},"import { protectRoutes } from '../protectRoutes';\nimport { cardsQuery } from '@/utils';\nimport queryClient from '@/libs/queryClient';\n\nexport const cardLoader = () => async () => {\n  const protect = protectRoutes('signin');\n  protect();\n\n  const query = cardsQuery();\n  try {\n    return (\n      queryClient.getQueryData<Card[]>(query.queryKey) ??\n      (await queryClient.fetchQuery(query))\n    );\n  } catch (error) {\n    queryClient.invalidateQueries({ queryKey: ['cards'] });\n    // highlight-start\n    return [];\n    // highlight-end\n  }\n};\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ubcf4\uba74 \uc2e4\ud328\ud558\uba74 \uadf8\ub0e5 \ube48 \ubc30\uc5f4\uc744 \uce90\uc2f1\ud558\ub294 \uac83\uc5d0 \ubd88\uacfc\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { useQuery } from '@tanstack/react-query';\nimport { cardLoader, cardsQuery } from '@/utils';\nimport { useLoaderData } from 'react-router-dom';\n\nexport function useCards() {\n  const loaderCards = useLoaderData() as Awaited<\n    ReturnType<ReturnType<typeof cardLoader>>\n  >;\n\n  const query = cardsQuery();\n  const {\n    data: cards,\n    isLoading,\n    error,\n  } = useQuery<Card[], ErrorResponse>({\n    queryKey: ['cards'],\n    queryFn: getCardsAPI,\n    staleTime: 5000,\n    // highlight-start\n    initialData: loaderCards,\n    // highlight-end\n    useErrorBoundary: true,\n  });\n\n  return { cards, isLoading, error };\n}\n")),(0,a.kt)("p",null,"\uc704\uc5d0\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"useLoaderData"),"\ub294 loader\uc5d0\uc11c \uc2e4\ud589\ud558\uace0 \ubc18\ud658\uac12\uc744 \uc811\uadfc\ud560 \uc218 \uc788\ub294 React-Router-DOM\uc758 hook\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub798\uc11c \uc2e4\ud328\ud558\uba74 \uc77c\ub2e8\uc740 \ube48 \ubc30\uc5f4(",(0,a.kt)("inlineCode",{parentName:"p"},"[]"),")\uc744 \uce90\uc2f1\ud560 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc \uc9c0\uae08 \uc0c1\ud669\uc5d0\uc11c \uce90\uc2f1\uc740 React-Query\uac00 \ud1b5\uc2e0\uc744 \uc131\uacf5\ud588\ub2e4\uace0 \uac04\uc8fc\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="util/loader.ts"',title:'"util/loader.ts"'},"import { protectRoutes } from '../protectRoutes';\nimport { cardsQuery } from '@/utils';\nimport queryClient from '@/libs/queryClient';\n\nexport const cardLoader = () => async () => {\n  const protect = protectRoutes('signin');\n  protect();\n\n  const query = cardsQuery();\n  try {\n    return (\n      queryClient.getQueryData<Card[]>(query.queryKey) ??\n      // highlight-start\n      (await queryClient.fetchQuery({\n        queryKey: ['cards'],\n        queryFn: getCardsAPI,\n        staleTime: 5000,\n      }))\n      // highlight-end\n    );\n  } catch (error) {\n    queryClient.invalidateQueries({ queryKey: ['cards'] });\n    return [];\n  }\n};\n")),(0,a.kt)("p",null,"\uc131\uacf5\ud588\ub2e4\uace0 \uac04\uc8fc\ud560 \ub54c\ub294 \uc9c4\uc9dc \ud1b5\uc2e0\uc774 \uc131\uacf5\ud574\uc57c \ud569\ub2c8\ub2e4. \ub610 \ubc18\ub4dc\uc2dc hook \ud615\ud0dc\uc77c \ud544\uc694\ub294 \uc5c6\uc2b5\ub2c8\ub2e4. \uac19\uc740 provider \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \ud638\ucd9c\ud55c \uba54\uc11c\ub4dc\uc5d0\uc11c \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,a.kt)("inlineCode",{parentName:"p"},"queryClient.fetchQuery"),"\ub85c \uc11c\ubc84\uc5d0\uc11c \ud638\ucd9c\ud560 \ub54c\ub294 hook\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ud568\uc218\uc785\ub2c8\ub2e4. \uadf8\ub9ac\uace0 QueryKey\uc640 \uc11c\ubc84\uc5d0 \uc694\uccad\ud558\ub294 API \ud568\uc218\uac00 \ub3d9\uc77c\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5ec\uae30\uc11c \uc2e4\ud328\ud558\uba74 \ub2e4\ub978 QueryKey \ub3d9\uc77c\ud55c useQuery\uc5d0\uc11c \ud638\ucd9c\ud560 \ub54c ",(0,a.kt)("inlineCode",{parentName:"p"},"error"),"\uc5d0 \uac12\uc774 \ud560\ub2f9 \ub418\uc5b4 \uc788\uc744 \uac83\uc774\uace0 Error Boundary\ub3c4 \uc774\ub97c \ud30c\uc545\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc989 hook\uc774 \uc544\ub2cc \ud568\uc218\ub3c4 \uc0c1\ud0dc \uacf5\uc720\uac00 \uac00\ub2a5\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"suspense\uc5d0-\ub300\ud55c-\uace0\ubbfc"},"suspense\uc5d0 \ub300\ud55c \uace0\ubbfc"),(0,a.kt)("p",null,"suspense \uc801\uc6a9\ud560\uae4c \uace0\ubbfc\ud588\uc9c0\ub9cc \ucd94\uac00 \uc81c\uc5b4\uac00 \uc870\uae08 \uc5b4\ub824\uc6e0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5b4\ub824\uc6b4\uc810\uc740 \uacf5\uc2dd\ubb38\uc11c \uc608\uc2dc\uac00 \uc774\uc0c1\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/latest/docs/react/examples/react/suspense"},"React Example: Suspense - React-Query \uacf5\uc2dd\ubb38\uc11c")),(0,a.kt)("iframe",{class:"codepen codesnadbox",src:"https://codesandbox.io/p/sandbox/github/tanstack/query/tree/main/examples/react/suspense?embed=1",allowfullscreen:!0}),(0,a.kt)("p",null,"\uc608\uc2dc\ub97c \ubcf4\uace0 \uc774\ud574\ud560 \uc218 \uc788\uc73c\uba74 \uc801\uc6a9\ud574\ubcfc \uc218 \uc788\uc5c8\uc744 \uac83\uac19\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. loading\uc5d0\uc11c spinner\uac00 \uc548 \ubcf4\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"suspense\uc5d0 \ub300\ud55c \uc801\uc6a9\uc740 \ubcf4\ub958\ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc0ac\uc2e4 \ub2e4\ub978 \uacf3\uc5d0 suspense\ub294 \uc801\uc6a9\ud588\uc2b5\ub2c8\ub2e4. \ub2e8\uc9c0 React-Query\uc640 \ub354 \uc88b\uc740 \uc5f0\uacc4\ub97c \ud65c\uc6a9\ud558\ub294 \ubc95\ub9cc \ubcf4\ub958\ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud604\uc7ac ",(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/latest/docs/react/guides/suspense"},"\uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c experimental"),"\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4. \ub098\uc911\uc5d0 stable\uc5d0 \uc801\uc6a9\ub418\ub3c4 \uad1c\ucc2e\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4."))}d.isMDXComponent=!0}}]);