"use strict";(self.webpackChunkarch_spatula_github_io=self.webpackChunkarch_spatula_github_io||[]).push([[71566],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),o=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=o(e.components);return r.createElement(i.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=o(n),d=a,k=m["".concat(i,".").concat(d)]||m[d]||u[d]||s;return n?r.createElement(k,l(l({ref:t},c),{},{components:n})):r.createElement(k,l({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,l=new Array(s);l[0]=d;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p[m]="string"==typeof e?e:a,l[1]=p;for(var o=2;o<s;o++)l[o]=n[o];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7129:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>p,toc:()=>o});var r=n(87462),a=(n(67294),n(3905));const s={title:"vitest, RTL, MSW \ud14c\uc2a4\ud2b8 \uc124\uc815",authors:["arch-spatula"],tags:["vitest","axios","vite","react","msw","react testing library"],description:"vitest\ucc98\ub7fc \ube60\ub978 \ud14c\uc2a4\ud2b8\ub7ec\ub108\uc5d0 RTL\uacfc MSW\ub97c \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uc124\uc815\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.",toc_max_heading_level:6},l="vitest, RTL, MSW \ud14c\uc2a4\ud2b8 \uc124\uc815",p={permalink:"/blog/2023/05/29/react-vite-rtl-msw",editUrl:"https://github.com/arch-spatula/arch-spatula.github.io/blob/dev/blog/2023-05-29-react-vite-rtl-msw.md",source:"@site/blog/2023-05-29-react-vite-rtl-msw.md",title:"vitest, RTL, MSW \ud14c\uc2a4\ud2b8 \uc124\uc815",description:"vitest\ucc98\ub7fc \ube60\ub978 \ud14c\uc2a4\ud2b8\ub7ec\ub108\uc5d0 RTL\uacfc MSW\ub97c \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uc124\uc815\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.",date:"2023-05-29T00:00:00.000Z",formattedDate:"2023\ub144 5\uc6d4 29\uc77c",tags:[{label:"vitest",permalink:"/blog/tags/vitest"},{label:"axios",permalink:"/blog/tags/axios"},{label:"vite",permalink:"/blog/tags/vite"},{label:"react",permalink:"/blog/tags/react"},{label:"msw",permalink:"/blog/tags/msw"},{label:"react testing library",permalink:"/blog/tags/react-testing-library"}],readingTime:13.025,hasTruncateMarker:!0,authors:[{name:"arch-spatula",title:"Cook-Book \ub9ce\uc774 \ub9cc\ub4ed\ub2c8\ub2e4",url:"https://github.com/arch-spatula",imageURL:"https://github.com/arch-spatula.png",key:"arch-spatula"}],frontMatter:{title:"vitest, RTL, MSW \ud14c\uc2a4\ud2b8 \uc124\uc815",authors:["arch-spatula"],tags:["vitest","axios","vite","react","msw","react testing library"],description:"vitest\ucc98\ub7fc \ube60\ub978 \ud14c\uc2a4\ud2b8\ub7ec\ub108\uc5d0 RTL\uacfc MSW\ub97c \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uc124\uc815\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.",toc_max_heading_level:6},prevItem:{title:"\ud504\ub860\ud2b8\uc5d4\ub4dc \uad00\uc2ec\uc0ac \ubd84\ub9ac",permalink:"/blog/2023/05/30/"},nextItem:{title:"\uacf5\ub8e1\uc774 \uc88b\uc544\uc84c\uc2b5\ub2c8\ub2e4.",permalink:"/blog/2023/05/28/deno-mognodb"}},i={authorsImageUrls:[void 0]},o=[{value:"\ud50c\ub798\uc2dc \uce74\ub4dc \uc124\uce58 &amp; \uc124\uc815",id:"\ud50c\ub798\uc2dc-\uce74\ub4dc-\uc124\uce58--\uc124\uc815",level:2},{value:"vitest",id:"vitest",level:3},{value:"RTL \uc124\uce58",id:"rtl-\uc124\uce58",level:3},{value:"tsx \ud14c\uc2a4\ud2b8 \ucf54\ub4dc",id:"tsx-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc",level:3},{value:"\ub9ac\uc561\ud2b8 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \ubca0\uc2a4\ud2b8 \ud504\ub809\ud2f0\uc2a4",id:"\ub9ac\uc561\ud2b8-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc-\ubca0\uc2a4\ud2b8-\ud504\ub809\ud2f0\uc2a4",level:3},{value:"@testing-library/user-event",id:"testing-libraryuser-event",level:3},{value:"msw \uc124\uce58",id:"msw-\uc124\uce58",level:3},{value:"worker \uc124\uc815",id:"worker-\uc124\uc815",level:4},{value:"server \uc124\uc815\ud558\uae30",id:"server-\uc124\uc815\ud558\uae30",level:4},{value:"test provider",id:"test-provider",level:3},{value:"axios",id:"axios",level:3}],c={toc:o},m="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"vitest\ucc98\ub7fc \ube60\ub978 \ud14c\uc2a4\ud2b8\ub7ec\ub108\uc5d0 RTL\uacfc MSW\ub97c \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uc124\uc815\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\ud50c\ub798\uc2dc-\uce74\ub4dc-\uc124\uce58--\uc124\uc815"},"\ud50c\ub798\uc2dc \uce74\ub4dc \uc124\uce58 & \uc124\uc815"),(0,a.kt)("p",null,"\uc800\ub294 \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub294 pnpm\uc744 \uc0ac\uc6a9\ud588\uace0 \ub9ac\uc561\ud2b8\ub294 vite\ub85c \uc124\uce58\ud588\uc2b5\ub2c8\ub2e4. \ub610 \uc6b0\ub9ac\ub098\ub77c\uc758 \uc790\ubd80\uc2ec swr\uc744 \ud65c\uc6a9 \ubc84\uc804\uc73c\ub85c \uc124\uce58\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"chore/init\n")),(0,a.kt)("p",null,"\uc124\uce58\ub9cc \ud558\uae30 \uc704\ud574 \ube0c\ub79c\uce58 \uc0dd\uc131\ud558\uae30"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"open https://github.com/arch-spatula/flash-card-frontend/pull/new/chore/init\n")),(0,a.kt)("h3",{id:"vitest"},"vitest"),(0,a.kt)("p",null,"\uacf5\uc2dd \ud648\ud398\uc774\uc9c0 \uc608\uc2dc \ub808\ud3ec ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/vitest-dev/vitest/tree/main/examples/react-testing-lib-msw"},"react-testing-lib-msw"),"\ub97c \ud65c\uc6a9\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add -D vitest\n")),(0,a.kt)("p",null,"\uc77c\ub2e8 \uc124\uce58\ud569\ub2c8\ub2e4."),(0,a.kt)("iframe",{class:"codepen",src:"https://www.youtube.com/embed/cchqeWY0Nak",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,a.kt)("p",null,"\uc704 \uc601\uc0c1\uc774 \uc81c\uac00 \uc774\ubc88 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc0ac\uc6a9\ud560 \uae30\uc220\uc2a4\ud0dd\uacfc \uc720\uc0ac\ud574\uc11c \ud65c\uc6a9\ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react-swc';\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n});\n")),(0,a.kt)("p",null,"vite\uc73c\ub85c \uc124\uce58\ud55c \ub9ac\uc561\ud2b8\uc758 \uae30\ubcf8 \uc124\uc815\uc774\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"/// <reference types=\"vitest\" />\n/// <reference types=\"vite/client\" />\n\nimport react from '@vitejs/plugin-react';\nimport { defineConfig } from 'vite';\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    globals: true,\n    environment: 'jsdom',\n    setupFiles: ['./src/setup.ts'],\n  },\n});\n")),(0,a.kt)("p",null,"\uacf5\uc2dd\ubb38\uc11c\uc640 \uad00\ub828\ub41c \ub808\ud3ec\uc5d0\uc11c \uc54c\ub824\uc900 \ucf54\ub4dc\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub458\uc744 \uc798 \uc870\ud569\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc791\uc131\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"/// <reference types=\"vitest\" />\n/// <reference types=\"vite/client\" />\n\nimport react from '@vitejs/plugin-react-swc';\nimport { defineConfig } from 'vite';\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    globals: true,\n    environment: 'jsdom',\n    setupFiles: ['./src/setup.ts'],\n  },\n});\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ubaa8\ub4c8\uc744 \ud3b8\uc9d1\ud558\uace0\ub098\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"./src"),"\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"setup.ts")," \ud30c\uc77c\uc744 \ub9cc\ub4e4\ub3c4\ub85d \ud569\ub2c8\ub2e4. \ubaa8\ub4e0 \ud14c\uc2a4\ud2b8 \uc2e4\ud589\uc804\uc5d0 \uc2e4\ud589\ub420 \ud30c\uc77c\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5ec\uae30\uae4c\uc9c0 \ub418\uba74 \ud14c\uc2a4\ud2b8 \ub7ec\ub108\uac00 \uc124\uce58 \ub41c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"rtl-\uc124\uce58"},"RTL \uc124\uce58"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i -D @testing-library/react\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i -D @testing-library/jest-dom\n")),(0,a.kt)("p",null,"\uc774 \uba85\ub839\uc73c\ub85c \uc124\uce58\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "@vitest/example-react-testing-lib-msw",\n  "private": true,\n  "scripts": {\n    "build": "tsc && vite build",\n    "coverage": "vitest run --coverage",\n    "dev": "vite",\n    "preview": "vite preview",\n    "test": "vitest",\n    "test:ui": "vitest --ui"\n  },\n  "dependencies": {\n    "@apollo/client": "^3.6.6",\n    "react": "^17.0.2",\n    "react-dom": "^17.0.2"\n  },\n  "devDependencies": {\n    "@testing-library/react": "^12.1.5",\n    "@testing-library/user-event": "^13.5.0",\n    "@types/react": "^17.0.45",\n    "@types/react-dom": "^17.0.17",\n    "@vitejs/plugin-react": "^1.3.2",\n    "@vitest/ui": "latest",\n    "cross-fetch": "^3.1.5",\n    "jsdom": "latest",\n    "msw": "^1.2.1",\n    "vite": "latest",\n    "vitest": "latest"\n  },\n  "stackblitz": {\n    "startCommand": "npm run test:ui"\n  }\n}\n')),(0,a.kt)("p",null,"\uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"jsdom"),"\uc744 \uc124\uce58\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc800\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"jsdom"),"\uc744 \uc798 \ubaa8\ub974\uae30 \ub54c\ubb38\uc5d0 \uc77c\ub2e8 ",(0,a.kt)("inlineCode",{parentName:"p"},"jest-dom"),"\uc744 \uc124\uce58\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5ec\uae30\uae4c\uc9c0\ub294 \uc124\uce58\uc785\ub2c8\ub2e4. \ub2e4\uc74c\uc740 \uc124\uc815\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://markus.oberlehner.net/blog/using-testing-library-jest-dom-with-vitest/"},"Using Testing Library jest-dom with Vitest")),(0,a.kt)("p",null,"\uc704 \uc544\ud2f0\ud074\uc774 \uace0\uc804\uc778\ub4ef\ud569\ub2c8\ub2e4. \uc774 \uace0\uc804\uc544\ud2f0\ud074\uc744 \ud65c\uc6a9\ud558\uba74 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// ./src/setup.ts\nimport matchers from '@testing-library/jest-dom/matchers';\nimport { expect } from 'vitest';\n\nexpect.extend(matchers);\n")),(0,a.kt)("p",null,"\uc124\uce58 \uc9c1\ud6c4\uc5d0 matchers\uc5d0\ub294 \uc774\ub7f0 \uc5d0\ub7ec\uac00 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Could not find a declaration file for module '@testing-library/jest-dom/matchers'.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"/* eslint-disable import/no-extraneous-dependencies */\nimport matchers from '@testing-library/jest-dom/matchers';\nimport { expect } from 'vitest';\n\nexpect.extend(matchers);\n")),(0,a.kt)("p",null,"\ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c \uc54c\ub824\uc900 \uadf8\ub300\ub85c \ud558\uba74 \uc5ec\uc804\ud788 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport matchers from '@testing-library/jest-dom/matchers';\nimport { expect } from 'vitest';\n\nexpect.extend(matchers);\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \uc124\uc815\ud558\uba74 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ub2e8\uae30\uc801\uc778 \ud574\uacb0\ucc45\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc pnpm\uc73c\ub85c \uc124\uce58\ud588\uc73c\uba74 \uc544\ub798 \uc124\uce58\ud558\uba74 \ubb38\uc81c\uac00 \ud574\uacb0\ub429\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add -D @types/testing-library__jest-dom\n")),(0,a.kt)("p",null,"\uadf8\ub9ac\uace0 ",(0,a.kt)("inlineCode",{parentName:"p"},"setup.ts"),"\uc5d0 lint \ubb34\uc2dc\ub3c4 \ud544\uc694 \uc5c6\uc5b4\uc9d1\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/57861187/property-tobeinthedocument-does-not-exist-on-type-matchersany"},"Property 'toBeInTheDocument' does not exist on type 'Matchers",(0,a.kt)("inlineCode",{parentName:"a"},"<any>"),"'")),(0,a.kt)("p",null,"\uad6c\uae00\ub9c1 \ud55c\ubc29\uc5d0 \ucc3e\uc544\uc11c \ub2e4\ud589\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import matchers from '@testing-library/jest-dom/matchers';\nimport { expect } from 'vitest';\n\nexpect.extend(matchers);\n")),(0,a.kt)("p",null,"test script\ub97c \ub3cc\ub838\uc744 \ub54c \uacb0\uad6d \ud544\uc694\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c jsdom\uc744 \uc124\uce58\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i -D jsdom\n")),(0,a.kt)("h3",{id:"tsx-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc"},"tsx \ud14c\uc2a4\ud2b8 \ucf54\ub4dc"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { render, screen } from '@testing-library/react';\nimport { describe, expect, it } from 'vitest';\nimport App from './App';\n\ndescribe('App', () => {\n  it('should renders hello world!', () => {\n    // Arrange\n    render(<App />);\n\n    // Act(\uc120\ud0dd\uc801)\n    // \ud604\uc7ac\ub294 \uc0dd\ub7b5\n\n    // Expect\n    expect(screen.getByRole('heading', { level: 1 })).toHaveTextContent(\n      'hello world!'\n    );\n  });\n});\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud558\uba74 \ud1b5\uacfc\ud558\ub294 \ud14c\uc2a4\ud2b8\ucf54\ub4dc\uac00 \uc791\uc131\ub41c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  return <h1>hello world!</h1>;\n}\n\nexport default App;\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \uc791\uc131\ud558\uba74 \ud14c\uc2a4\ud2b8\uac00 \ud1b5\uacfc \ub420 \uac83\uc785\ub2c8\ub2e4. \uc774\uc81c \uc124\uce58 \ud6c4 \uc124\uc815\uae4c\uc9c0 \ub418\uc5b4\uc11c \ucee4\ubc0b \ud55c \ubc88 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://testing-library.com/docs/queries/about/#priority"},"About Queries - Priority - testing-library")),(0,a.kt)("h3",{id:"\ub9ac\uc561\ud2b8-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc-\ubca0\uc2a4\ud2b8-\ud504\ub809\ud2f0\uc2a4"},"\ub9ac\uc561\ud2b8 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \ubca0\uc2a4\ud2b8 \ud504\ub809\ud2f0\uc2a4"),(0,a.kt)("p",null,"\ud14c\uc2a4\ud305 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub294 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \uc791\uc131\uc5d0 \ub300\ud55c \uc758\uacac\uc774 \uc788\uc2b5\ub2c8\ub2e4. DOM \ucffc\ub9ac\ud558\ub294 \uc6b0\uc120\uc21c\uc704\ub97c \uc900\uc218\ud560 \uac83\uc744 \ubca0\uc2a4\ud2b8 \ud504\ub809\ud2f0\uc2a4\ub77c\uace0 \ud569\ub2c8\ub2e4. \uc774\uc720\ub294 \uc811\uadfc\uc131 \ud14c\uc2a4\ud2b8\ub3c4 \ub3d9\uc2dc\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"RTL \uba54\uc778\ud14c\uc774\ub108 Kent.C Dodds \uc120\uc0dd\ub2d8\uc740 \ub2e4\uc74c \uc544\ud2f0\ud074\uc5d0\uc11c \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \uc791\uc131\uc5d0\uc11c \uc790\uc8fc \ud558\ub294 \uc2e4\uc218\ub97c \ub2e4\ub8f9\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://kentcdodds.com/blog/common-mistakes-with-react-testing-library"},"Common mistakes with React Testing Library - \uc6d0\ubb38")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://seongry.github.io/2021/06-20-common-mistakes-with-rty/"},"Common mistakes with React Testing Library - \uad6d\ubb38")),(0,a.kt)("h3",{id:"testing-libraryuser-event"},"@testing-library/user-event"),(0,a.kt)("p",null,"\uc720\uc800\uc758 \ub3d9\uc791\ub3c4 \ud14c\uc2a4\ud2b8\ud560 \uac83\uc774\uae30 \ub54c\ubb38\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"user-event"),"\ub3c4 \uc124\uce58\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i -D @testing-library/user-event @testing-library/dom\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { render, screen } from '@testing-library/react';\nimport { describe, expect, it } from 'vitest';\nimport user from '@testing-library/user-event';\nimport App from './App';\n\ndescribe('App', () => {\n  it('should renders hello world!', async () => {\n    // Arrange\n    user.setup();\n    render(<App />);\n\n    // Act(\uc120\ud0dd\uc801)\n    // \ud604\uc7ac\ub294 \uc0dd\ub7b5\n\n    // Expect\n    expect(screen.getByRole('heading', { level: 1 })).toHaveTextContent(\n      'hello world!'\n    );\n  });\n});\n")),(0,a.kt)("p",null,"\ubd88\ub7ec\uc624\uace0 \uc0ac\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"msw-\uc124\uce58"},"msw \uc124\uce58"),(0,a.kt)("p",null,"\ud1b5\uc2e0\uc744 mocking \ud558\ub294 \uac83\ub3c4 \uc774\ubc88 \ud504\ub85c\uc81d\ud2b8\uc758 \uc758\uc758\uc785\ub2c8\ub2e4. \ub9cc\ub4e0 jsx, hook \uc989 view, controller\uac00 \ud1b5\uc2e0\uc5d0 \uc2e4\ud328\ud558\uba74 \uc5b4\ub5bb\uac8c \ubc18\uc751\ud558\ub294\uc9c0 \ud1b5\ud569\ud14c\uc2a4\ud2b8 \uc2a4\ub7ec\uc6b4 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub610 JSON \uc11c\ubc84\ub9cc \uc8fc\uad6c\uc7a5\ucc3d \uc4f0\uae30\uc5d0\ub294 \uc544\uc26c\uc6b4 \uc810\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \ubb3c\ub860 \uc88b\uc740 \uc720\uc0ac \ubc31\uc5d4\ub4dc\uc774\uae30\ub294 \ud569\ub2c8\ub2e4. \uba38\ub098\uba3c \ubbf8\ub798\uc5d0\ub294 \uc720\uc0ac BaaS \uac19\uc740 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c JSON base\ub97c \ub9cc\ub4e4\uc5b4 \ubcf4\ub294 \uac83\uc774 \uafc8\uc785\ub2c8\ub2e4. pocket base\ub3c4 \ubd80\uc871\ud574\uc11c \ub354 \uac04\uc18c\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uace0 \uc2f6\uc5b4\uc84c\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uac01\uc124\ud558\uace0 \uc124\uce58\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i -D msw\n")),(0,a.kt)("p",null,"\uc77c\ub2e8 \uc774\ub807\uac8c \ub418\uba74 \uc124\uce58\ub41c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npx msw init public/ \u2014 save\n")),(0,a.kt)("p",null,"\uc2e4\uc81c \uc11c\ubc84\uc5d0 \uc694\uccad\uc774 \ubcf4\ub0b4\uae30 \uc804\uc5d0 \uc704 \uba85\ub839\uc744 \ud558\uba74 \uc0dd\uc131\ub429\ub2c8\ub2e4. ",(0,a.kt)("inlineCode",{parentName:"p"},"Y")," \uc120\ud0dd\ud558\ub294 \uac83 \uc78a\uc9c0\ub9d0\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c\uc740 \uc124\uc815\uc785\ub2c8\ub2e4. \uacf5\uc2dd\ubb38\uc11c\ub294 CRA\ub85c \uc124\uc815\ud558\ub294 \ubc95\ub9cc \uc54c\ub824\uc90d\ub2c8\ub2e4. vite\ub3c4 \ub3d9\uc77c\ud558\uac8c \uc124\uc815\ud574\ub3c4 \ub3d9\uc791\ud569\ub2c8\ub2e4."),(0,a.kt)("h4",{id:"worker-\uc124\uc815"},"worker \uc124\uc815"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// mocks/handlers.ts\nimport { rest } from 'msw';\n\nconst todos = ['\uba39\uae30', '\uc790\uae30', '\ub180\uae30'];\n\nexport const handlers = [\n  // \ud560\uc77c \ubaa9\ub85d\n  rest.get('/todos', (req, res, ctx) => {\n    return res(ctx.status(200), ctx.json(todos));\n  }),\n];\n")),(0,a.kt)("p",null,"handlers\uc5d0\uc11c mocking\ud560 API\ub97c \uc784\uc2dc\ub85c \ub9cc\ub4ed\ub2c8\ub2e4. \uc5ec\uae30\uc11c\ub294 \uc5ec\ub7ec \ubaa8\uc758 API\ub97c \ubb36\uc5b4\ub461\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// mocks/worker.ts\nimport { setupWorker } from 'msw';\nimport { handlers } from './handlers';\n\nexport const worker = setupWorker(...handlers);\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ub9cc\ub4e4\uc5b4\uc9c4 API\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"worker"),"\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"// main.tsx\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.tsx';\nimport './index.css';\n\nimport { worker } from './mocks/worker';\nif (process.env.NODE_ENV === 'development') {\n  worker.start();\n}\n\nReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n")),(0,a.kt)("p",null,"\uc774 \uc124\uc815\uc744 \ud558\uba74 \uac1c\ubc1c\ud658\uacbd\uc5d0\uc11c\ub9cc \ub3d9\uc791\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4. ",(0,a.kt)("inlineCode",{parentName:"p"},"process.env.NODE_ENV"),"\uc5d0 \ub530\ub77c \uc870\uac74\ubd80\ub85c worker\uac00 \ub3d9\uc791\ud558\uae30 \ub54c\ubb38\uc5d0 \uadf8\ub807\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5ec\uae30\uae4c\uc9c0 \uc124\uc815 \uc911\uac04\uc785\ub2c8\ub2e4. \uc5ec\uae30\uc11c \ubaa8\ud0b9 \ud655\uc778\uc744 \ud55c\ubc88 \ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"// src/App.tsx\nimport { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [count, setCount] = useState(0);\n  fetch('http://localhost:5173/todos')\n    .then((response) => response.json())\n    .then((data) => setCount(data));\n\n  return <h1>hello world! {count}</h1>;\n}\n\nexport default App;\n")),(0,a.kt)("p",null,"\ubaa8\uc758 \ud1b5\uc2e0\uc774 \uc131\uacf5\ud55c \uac83\uc744 \ubcfc \uc218 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h4",{id:"server-\uc124\uc815\ud558\uae30"},"server \uc124\uc815\ud558\uae30"),(0,a.kt)("p",null,"server\ub294 \ud14c\uc2a4\ud2b8 \uc11c\ubc84\ub97c \uc704\ud574\uc11c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"worker\ub294 \ube0c\ub77c\uc6b0\uc800 \ud1b5\uc2e0\uacfc \ubc18\uc601\uc744 \uc704\ud574\uc11c \uc124\uc815\ud558\ub294 \uc11c\ubc84\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// mocks/server.ts\nimport { setupServer } from 'msw/node';\nimport { handlers } from './handlers';\n\nexport const server = setupServer(...handlers);\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"msw/node"),"\uc640 ",(0,a.kt)("inlineCode",{parentName:"p"},"setupServer"),"\uac00 \ub2e4\ub974\ub2e4\ub294 \uc810\uc744 \uc8fc\uc758\uae4a\uac8c \uc0b4\ud53c\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"setup.ts")," \uc124\uc815\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// src/setup.ts\nimport { server } from './mocks/server';\n\nbeforeAll(() => server.listen({ onUnhandledRequest: 'error' }));\nafterAll(() => server.close());\nafterEach(() => server.resetHandlers());\n")),(0,a.kt)("p",null,"\uc704\ub294 \uacf5\uc2dd\ubb38\uc11c\uc5d0 \uc81c\uacf5\ud558\ub294 \ub808\ud3ec\uc5d0\uc11c \uac00\uc838\uc628 \uac83\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc6b0\ub9ac\uc5d0\uac8c \ub9de\uac8c \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// src/setup.ts\nimport matchers from '@testing-library/jest-dom/matchers';\nimport { server } from './mocks/server';\nimport { expect } from 'vitest';\n\nexpect.extend(matchers);\n\nbeforeAll(() => server.listen({ onUnhandledRequest: 'error' }));\nafterAll(() => server.close());\nafterEach(() => server.resetHandlers());\n")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.daleseo.com/mock-service-worker/"},"MSW\ub85c \ubc31\uc564\ub4dc API \ubaa8\ud0b9\ud558\uae30 - DaleSeo")," \uc544\ud2f0\ud074\uc744 \ucc38\uace0\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ub418\uba74 \ud1b5\uc2e0\uacfc JSX \ubaa8\ub450 \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc5ec\uae30\uae4c\uc9c0 \uc791\uc131\ud558\uace0 \ucee4\ubc0b\ud569\uc2dc\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "flash-card-frontend",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "tsc && vite build",\n    "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",\n    "preview": "vite preview",\n    "test": "vitest watch"\n  },\n  "dependencies": {\n    "react": "^18.2.0",\n    "react-dom": "^18.2.0"\n  },\n  "devDependencies": {\n    "@testing-library/dom": "^9.3.0",\n    "@testing-library/jest-dom": "^5.16.5",\n    "@testing-library/react": "^14.0.0",\n    "@testing-library/user-event": "^14.4.3",\n    "@types/react": "^18.2.7",\n    "@types/react-dom": "^18.2.4",\n    "@types/testing-library__jest-dom": "^5.14.6",\n    "@typescript-eslint/eslint-plugin": "^5.59.7",\n    "@typescript-eslint/parser": "^5.59.7",\n    "@vitejs/plugin-react-swc": "^3.3.1",\n    "eslint": "^8.41.0",\n    "eslint-plugin-react-hooks": "^4.6.0",\n    "eslint-plugin-react-refresh": "^0.3.5",\n    "jsdom": "^22.1.0",\n    "msw": "^1.2.1",\n    "typescript": "^5.0.4",\n    "vite": "^4.3.9",\n    "vitest": "^0.31.1"\n  },\n  "msw": {\n    "workerDirectory": "public"\n  }\n}\n')),(0,a.kt)("p",null,"\ud504\ub85c\uc81d\ud2b8\uc758 ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),"\uc740 \uc704\uc640 \ube44\uc2b7\ud560 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"test-provider"},"test provider"),(0,a.kt)("p",null,"\uc774\uc81c 4\uac1c\uc758 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub9cc \uc124\uce58\ud558\uace0 \uc124\uc815\ud558\uba74 \uae30\ub2a5\uc744 \uac1c\ubc1c\uc5d0 \ucc29\uc218\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"Jotai, React-Query, Emotion, React-Router-Dom"),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc \uc5ec\uae30\uc11c \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ubaa8\ub450 provider\ub85c \uac10\uc2f8\uc57c \ud569\ub2c8\ub2e4. \uadf8\uac83\ub3c4 4\uac1c\ub098 \ucc98\ub9ac\ud574\uc57c \ud569\ub2c8\ub2e4. provider\uc758 \ubb38\uc81c\ub294 \ub9ac\uc561\ud2b8 root\uc5d0\uc11c provider\ub85c \uac10\uc2f8\uace0 \ud2b8\ub9ac\uc5d0\uc11c \ud574\ub2f9 \ub178\ub4dc\ub97c \uc811\uadfc\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ud14c\uc2a4\ud2b8 \ud658\uacbd\uc740 \ud2b8\ub9ac \uc678\ubd80\uc5d0 \uc874\uc7ac\ud558\uae30 \ub54c\ubb38\uc5d0 provider\ub97c \ud1b5\ud574 \uc811\uadfc\ud558\ub294 \ud14c\uc2a4\ud2b8\ub294 \ubaa8\ub450 \uac10\uc2f8\uc918\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"hook\uc744 \ud14c\uc2a4\ud2b8\ud560 \ub54c\ub294 \ubb38\uc81c\uac00 \uc5c6\uc9c0\ub9cc \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud638\ucd9c \ud588\uc744 \ub54c\ub294 \ubb38\uc81c\uac00 \ub420 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc77c\ub2e8 \ud14c\uc2a4\ud2b8\ub294 \uac01\uac01\uc758 \ub3c5\ub9bd\uc801\uc778 \uacf5\uc2dd\ubb38\uc11c\ub97c \ud65c\uc6a9\ud574\uc11c \ud14c\uc2a4\ud2b8 \ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uac00\uc7a5 \ub2e8\uc21c\ud558\uac8c \uc811\uadfc\ud574\uc11c \uc77c\ub2e8 \uc124\uce58\ud558\uace0 \ub2e4\uc74c\uc5d0 \ub300\uc751\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i jotai\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i jotai-devtools --save # \uc120\ud0dd\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add @tanstack/react-query\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add @tanstack/react-query-devtools\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add -D @tanstack/eslint-plugin-query\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i @emotion/styled @emotion/react\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i react-router-dom\n")),(0,a.kt)("h3",{id:"axios"},"axios"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm i axios\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "flash-card-frontend",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "tsc && vite build",\n    "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",\n    "preview": "vite preview",\n    "test": "vitest watch"\n  },\n  "dependencies": {\n    "@emotion/react": "^11.11.0",\n    "@emotion/styled": "^11.11.0",\n    "@tanstack/react-query": "^4.29.12",\n    "axios": "^1.4.0",\n    "jotai": "^2.1.0",\n    "react": "^18.2.0",\n    "react-dom": "^18.2.0",\n    "react-router-dom": "^6.11.2"\n  },\n  "devDependencies": {\n    "@tanstack/eslint-plugin-query": "^4.29.9",\n    "@testing-library/dom": "^9.3.0",\n    "@testing-library/jest-dom": "^5.16.5",\n    "@testing-library/react": "^14.0.0",\n    "@testing-library/user-event": "^14.4.3",\n    "@types/react": "^18.2.7",\n    "@types/react-dom": "^18.2.4",\n    "@types/testing-library__jest-dom": "^5.14.6",\n    "@typescript-eslint/eslint-plugin": "^5.59.7",\n    "@typescript-eslint/parser": "^5.59.7",\n    "@vitejs/plugin-react-swc": "^3.3.1",\n    "eslint": "^8.41.0",\n    "eslint-plugin-react-hooks": "^4.6.0",\n    "eslint-plugin-react-refresh": "^0.3.5",\n    "jsdom": "^22.1.0",\n    "msw": "^1.2.1",\n    "typescript": "^5.0.4",\n    "vite": "^4.3.9",\n    "vitest": "^0.31.1"\n  },\n  "msw": {\n    "workerDirectory": "public"\n  }\n}\n')),(0,a.kt)("p",null,"\uc77c\ub2e8 \ub2e8\uc21c\uc124\uce58\ud574\uc11c \uc5ec\uae30\uae4c\uc9c0 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c\uc740 \uc124\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4."))}u.isMDXComponent=!0}}]);