"use strict";(self.webpackChunkarch_spatula_github_io=self.webpackChunkarch_spatula_github_io||[]).push([[30369],{30218:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var t=o(85893),s=o(11151);const r={description:"modal, dropdown \uac19\uc740 \uc0c1\ud669\uc5d0 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 hook\uc785\ub2c8\ub2e4.",tags:["react","modal"],sidebar_position:2},i="useOutsideClick",a={id:"hooks/useOutsideClick",title:"useOutsideClick",description:"modal, dropdown \uac19\uc740 \uc0c1\ud669\uc5d0 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 hook\uc785\ub2c8\ub2e4.",source:"@site/react-cookbook/02-hooks/02-useOutsideClick.md",sourceDirName:"02-hooks",slug:"/hooks/useOutsideClick",permalink:"/react-cookbook/hooks/useOutsideClick",draft:!1,unlisted:!1,tags:[{label:"react",permalink:"/react-cookbook/tags/react"},{label:"modal",permalink:"/react-cookbook/tags/modal"}],version:"current",sidebarPosition:2,frontMatter:{description:"modal, dropdown \uac19\uc740 \uc0c1\ud669\uc5d0 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 hook\uc785\ub2c8\ub2e4.",tags:["react","modal"],sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"useInput",permalink:"/react-cookbook/hooks/useinput"},next:{title:"useStopScroll",permalink:"/react-cookbook/hooks/useStopScroll"}},c={},d=[];function l(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"useoutsideclick",children:"useOutsideClick"}),"\n",(0,t.jsx)(n.p,{children:"modal, dropdown \uac19\uc740 \uc0c1\ud669\uc5d0 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 hook\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { useCallback, useEffect, useRef, useState } from 'react';\n\ntype OutSideProviderProps = {\n  component: JSX.Element;\n};\n\nexport function useOutsideClick<T extends HTMLElement>() {\n  const nonTargetAreaRef = useRef<T>(null);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleClick = useCallback(\n    (e: MouseEvent) => {\n      if (nonTargetAreaRef.current?.contains(e.target as Node) === false) {\n        setIsOpen(false);\n      }\n    },\n    [setIsOpen]\n  );\n\n  useEffect(() => {\n    window.addEventListener('mousedown', handleClick);\n    return () => window.removeEventListener('mousedown', handleClick);\n  }, [handleClick]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const handleRevers = useCallback(() => {\n    setIsOpen((prev) => !prev);\n  }, [setIsOpen]);\n\n  const OutsideProvider = ({ component }: OutsideProviderProps) => {\n    return <>{isOpen && component}</>;\n  };\n\n  return {\n    nonTargetAreaRef,\n    isOpen,\n    handleClose,\n    handleOpen,\n    handleRevers,\n    OutsideProvider,\n  };\n}\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"export function DropdownMenu({\n  menuItem,\n  direction = 'left',\n}: DropdownMenuProps) {\n  const { nonTargetAreaRef, isOpen, handleRevers, OutsideProvider } =\n    useOutsideClick<HTMLDivElement>();\n\n  return (\n    <DropdownMenuContainer ref={nonTargetAreaRef}>\n      <DropdownOpen type=\"button\" onClick={handleRevers} isOpen={isOpen}>\n        <Icon />\n      </DropdownOpen>\n      <OutsideProvider\n        component={<Menu menuItem={menuItem} direction={direction} />}\n      />\n    </DropdownMenuContainer>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\uc774\ub807\uac8c \uc18c\ube44\ud558\uba74 \ub429\ub2c8\ub2e4. ref\ub294 \ud074\ub9ad\ud558\uba74 \uc0ac\ub77c\uc9c8 \uc678\ubd80\uc601\uc5ed\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. isOpen\uc740 \ubcf4\uc774\uace0 \uc548\ubcf4\uc774\uace0 \uc0c1\ud0dc\ub97c \uc774\uc57c\uae30\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"OutsideProvider"}),"\ub294 \uc870\uac74\ubd80 \ub79c\ub354\ub9c1\uc778\ub370 hook\uc758 \uc18c\ube44\ub294 \uc870\uac74\ubd80 \ub79c\ub354\ub9c1\uc774\ub77c\ub294 \uc0ac\uc2e4\uc744 \uc54c \ud544\uc694\uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.p,{children:"\uc124\uba85\ud558\uba74\uc11c \ub2e4\uc2dc \uc0dd\uac01\ud574\ubcf4\ub2c8\uae4c isViable\uc774 \ub354 \uc88b\uc740 \uc774\ub984\uc778 \uac83 \uac19\uc2b5\ub2c8\ub2e4."})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>i});var t=o(67294);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);