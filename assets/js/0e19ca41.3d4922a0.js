"use strict";(self.webpackChunkarch_spatula_github_io=self.webpackChunkarch_spatula_github_io||[]).push([[33608],{6227:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>c,metadata:()=>l,toc:()=>i});var o=t(85893),s=t(11151);const c={title:"useOutSideClick",authors:["arch-spatula"],tags:["react","custom hook"],description:"\uc608\uc804\uc5d0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud560 \ub54c \ub3d9\ub8cc\uac00 custom hook\uc744 \ucd94\uac00\ud588\uc5c8\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc544\uc26c\uc6b4 \uc810\uc774 \ub9ce\uc544\uc11c \uac1c\uc120\ud55c \ubc84\uc804\uc744 \ub2e4\uc2dc \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.",toc_max_heading_level:6},r="useOutSideClick",l={permalink:"/blog/2023/06/28/",editUrl:"https://github.com/arch-spatula/arch-spatula.github.io/blob/dev/blog/2023-06-28.md",source:"@site/blog/2023-06-28.md",title:"useOutSideClick",description:"\uc608\uc804\uc5d0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud560 \ub54c \ub3d9\ub8cc\uac00 custom hook\uc744 \ucd94\uac00\ud588\uc5c8\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc544\uc26c\uc6b4 \uc810\uc774 \ub9ce\uc544\uc11c \uac1c\uc120\ud55c \ubc84\uc804\uc744 \ub2e4\uc2dc \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.",date:"2023-06-28T00:00:00.000Z",formattedDate:"2023\ub144 6\uc6d4 28\uc77c",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"custom hook",permalink:"/blog/tags/custom-hook"}],readingTime:6.6,hasTruncateMarker:!0,authors:[{name:"arch-spatula",title:"Cook-Book \ub9ce\uc774 \ub9cc\ub4ed\ub2c8\ub2e4",url:"https://github.com/arch-spatula",imageURL:"https://github.com/arch-spatula.png",key:"arch-spatula"}],frontMatter:{title:"useOutSideClick",authors:["arch-spatula"],tags:["react","custom hook"],description:"\uc608\uc804\uc5d0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud560 \ub54c \ub3d9\ub8cc\uac00 custom hook\uc744 \ucd94\uac00\ud588\uc5c8\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc544\uc26c\uc6b4 \uc810\uc774 \ub9ce\uc544\uc11c \uac1c\uc120\ud55c \ubc84\uc804\uc744 \ub2e4\uc2dc \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.",toc_max_heading_level:6},unlisted:!1,prevItem:{title:"request waterfall \ud574\uacb0",permalink:"/blog/2023/07/03/request-waterfal"},nextItem:{title:"webp \uc774\ubbf8\uc9c0 \ucc98\ub9ac",permalink:"/blog/2023/06/26/"}},a={authorsImageUrls:[void 0]},i=[{value:"chakra-ui \ucc38\uace0",id:"chakra-ui-\ucc38\uace0",level:3},{value:"custom hook: useOutSideClick",id:"custom-hook-useoutsideclick",level:2}];function u(e){const n={a:"a",code:"code",del:"del",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"\uc608\uc804\uc5d0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud560 \ub54c \ub3d9\ub8cc\uac00 custom hook\uc744 \ucd94\uac00\ud588\uc5c8\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc544\uc26c\uc6b4 \uc810\uc774 \ub9ce\uc544\uc11c \uac1c\uc120\ud55c \ubc84\uc804\uc744 \ub2e4\uc2dc \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:"\uc6d0\ub798\ub294 \uc788\ub294 \uc904 \ubab0\ub790\ub358 hook\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/react-challengers/Codefolio/blob/dev/hooks/query/useOutsideClick.ts",children:"nno3onn\uc758 useOutsideClick - Codefolio"})}),"\n",(0,o.jsx)(n.p,{children:"\uc61b\ub0a0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ud504\ub85c\uc81d\ud2b8\ub97c \ubcf4\ub2c8\uae4c \ub204\uad70\uac00\uac00 custom hook\uc744 \ud3f4\ub354\uc5d0\uc11c \ub300\ucda9 \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { useEffect, RefObject } from 'react';\n\nconst useOutsideClick = <T extends HTMLElement>(\n  ref: RefObject<T>,\n  callback: () => void\n) => {\n  const handleClick = (e: PointerEvent) => {\n    if (ref.current && !ref.current.contains(e.target as Node)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('pointerdown', handleClick);\n    return () => window.removeEventListener('pointerdown', handleClick);\n  }, [ref]);\n};\n\nexport default useOutsideClick;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\uc704\uac00 \ucf54\ub4dc \uc815\uc758\uc785\ub2c8\ub2e4. \ub2e4\uc74c\uc740 \ucf54\ub4dc\ub97c \ud638\ucd9c\ud558\ub294 \uce21\uba74\uc785\ub2c8\ub2e4. ",(0,o.jsx)(n.del,{children:"\uc5b4\ub5bb\uac8c \uc18c\ube44\ud574\uc57c \ud558\ub294\uc9c0 \uc81c\uac00 \uae4c\uba39\uc5c8\uc2b5\ub2c8\ub2e4."})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/react-challengers/Codefolio/blob/dev/Components/Main/MainSection.tsx",children:"useOutsideClick \uc0ac\uc6a9\ubc95 - Codefolio"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"function Component() {\n  const [isDropDownOpen, setIsDropDownOpen] = useState(false);\n  const homeDropDownRef = useRef<HTMLUListElement>(null);\n\n  useOutsideClick(homeDropDownRef, () => setIsDropDownOpen(false));\n\n  return (\n    <HomeDropDownList ref={homeDropDownRef}>\n      {homeDropDownItems.map((item) => (\n        <DropDown\n          item={item}\n          key={item}\n          onClickHandler={onClickDropDownHandler}\n        />\n      ))}\n    </HomeDropDownList>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\uc774\ub807\uac8c \uc0ac\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4."}),"\n",(0,o.jsxs)(n.p,{children:["\ucf54\ub4dc\ub97c \uc77d\uc5b4\ubcf4\uba74 \uc544\uc26c\uc6b4 \uc810\uc774 \uc0c1\ub2f9\ud788 \ub9ce\uc2b5\ub2c8\ub2e4. hook\uc758 \ud638\ucd9c\uc790 \uad00\uc810\uc5d0\uc11c \uc81c\uc5b4\ud558\uae30 \uc0c1\ub2f9\ud788 \uc548 \uc88b\uc2b5\ub2c8\ub2e4. \ub2eb\uae30\ub97c \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1\uc778 ",(0,o.jsx)(n.code,{children:"() => setIsDropDownOpen(false)"}),"\uc744 \ub300\uc785\ud558\uae30 \ub54c\ubb38\uc5d0 \uc124\uacc4\uac00 \uc798 \ubabb\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ub610 useState, useRef\ub97c \ud638\ucd9c\ud558\uace0 \uc801\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4. \ucc98\uc74c\ubd80\ud130 \uc0c1\ud638 \uc758\uc874\uc801\uc778 hook\ub4e4\uc744 \ub530\ub85c \ud638\ucd9c\ud574\uc11c \uc870\ud569\ud574\uc57c \ud569\ub2c8\ub2e4. \ubaa8\ub450 \ucc98\uc74c\ubd80\ud130 \ucd94\uc0c1\ud654\uac00 \uac00\ub2a5\ud574 \ubcf4\uc785\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(n.h3,{id:"chakra-ui-\ucc38\uace0",children:"chakra-ui \ucc38\uace0"}),"\n",(0,o.jsx)(n.p,{children:"\ub610 \uc704 \uc608\uc2dc\ub294 pointer down\uc744 \uc0ac\uc6a9\ud588\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c \uc801\uc6a9\uc774 \uc548\ub42c\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/chakra-ui/chakra-ui/blob/main/packages/hooks/use-outside-click/src/index.ts",children:"useOutsideClick - chakra-ui"})}),"\n",(0,o.jsxs)(n.p,{children:["chakra-ui\ub294 ",(0,o.jsx)(n.code,{children:"mousedown"}),"\uc744 \ud65c\uc6a9\ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(n.p,{children:["\uadf8\ub9ac\uace0 \uc6d0\ubcf8\ub3c4 ",(0,o.jsx)(n.code,{children:"mousedown"}),"\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { useEffect } from 'react';\n\nconst useOutsideClick = (ref: any, callback: any) => {\n  const handleClick = (e: Event) => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('mousedown', handleClick);\n    return () => window.removeEventListener('mousedown', handleClick);\n  }, [ref, callback]);\n};\n\nexport default useOutsideClick;\n"})}),"\n",(0,o.jsx)(n.p,{children:"any script\ub97c \ub9cc\ub4e4\uace0 \uc788\uc9c0\ub9cc \ucc98\uc74c \ub9cc\ub4e4\uc5c8\uc744 \ub54c\uac00 \uc62c\ubc14\ub978 \ubc29\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"export function DropdownMenu({\n  menuItem,\n  direction = 'left',\n}: DropdownMenuProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleMenu = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const toggleClose = () => {\n    setIsOpen(false);\n  };\n\n  const { customRef } = useOusSideClick<HTMLDivElement>(toggleClose);\n\n  return (\n    <DropdownMenuContainer ref={customRef}>\n      <DropdownOpen type=\"button\" onClick={toggleMenu} isOpen={isOpen}>\n        <Icon />\n      </DropdownOpen>\n      {isOpen && <Menu menuItem={menuItem} direction={direction} />}\n    </DropdownMenuContainer>\n  );\n}\n\nfunction useOutsideClick<T extends HTMLElement>(handlerCallback: () => void) {\n  const customRef = useRef<T>(null);\n\n  const handleClick = useCallback(\n    (e: MouseEvent) => {\n      if (customRef.current?.contains(e.target as Node) === false) {\n        handlerCallback();\n      }\n    },\n    [handlerCallback]\n  );\n\n  useEffect(() => {\n    window.addEventListener('mousedown', handleClick);\n    return () => {\n      window.removeEventListener('mousedown', handleClick);\n    };\n  }, [handleClick]);\n\n  return { customRef };\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\uc77c\ub2e8 \uad6c\ud604\ud558\uace0 \ucd94\ucd9c\uae4c\uc9c0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ud638\ucd9c\ud558\ub294 \uc0ac\ub78c\uc774 \ud0c0\uc785\uc744 \uc815\uc758\ud558\ub3c4\ub85d \uc81c\ub124\ub9ad\ub3c4 \ucd94\uac00\ud588\uc2b5\ub2c8\ub2e4. \uc774\uc81c \ubc1c\ud1b1\ub54c\ub9cc\ud07c \uc0ac\ub78c \ud749\ub0b4\ub97c \ub0b4\uae30 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:"\ud558\uc9c0\ub9cc \uc544\uc26c\uc6b4 \ubd80\ubd84\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\uc804\ud788 \uc774 hook\uc744 handler \ud568\uc218 \uc544\ub798\uc5d0 \uc704\uce58 \uc2dc\ucf1c\uc57c \ud55c\ub2e4\ub294 \uc810\uc774 \uce58\uba85\uc801\uc778 \ub2e8\uc810\uc785\ub2c8\ub2e4. \ub610 handler\ud568\uc218\ub3c4 \ub300\uc785\ubc1b\uc544\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:"custom hook \ucd94\ucd9c \ub9ac\ud329\ud1a0\ub9c1\uc744 \ud588\ub294\ub370 \uc5ec\uc804\ud788 \ubd80\uc871\ud55c hook\uc785\ub2c8\ub2e4. custom hook\uc740 handler \ud568\uc218\ub97c \uc778\uc790\ub85c \ubc1b\uc544\uc57c \ud558\uace0 \ubc1b\uae30 \uc704\ud574\uc11c\ub294 handler \uc601\uc5ed \uc544\ub798 \ud638\ucd9c\ud560 \uc218\ubc16\uc5d0 \uc5c6\ub294 \uc774 \uad6c\uc870\ub294 \ucf54\ub4dc \uc2a4\ud3a0\uc758 \uc6d0\uc778\uc774 \ub429\ub2c8\ub2e4. \uc989 \uc5ec\uc804\ud788 \ub9ac\ud329\ud1a0\ub9c1 \ub300\uc0c1\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"custom-hook-useoutsideclick",children:"custom hook: useOutSideClick"}),"\n",(0,o.jsx)(n.p,{children:"\ucd5c\uc885 \ud615\ud0dc\uc785\ub2c8\ub2e4. dropdown, modal, accordion \ub4f1 \ucef4\ud3ec\ub10c\ud2b8 \ub85c\uc9c1\uc5d0 \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \ub85c\uc9c1\uc785\ub2c8\ub2e4. \ubaa8\ub450 \uac1c\ubcc4\uc801\uc73c\ub85c \ub9cc\ub4e4\uc9c0 \ub9d0\uace0 \uc774 hook \ud558\ub098 \ud638\ucd9c\ud558\uace0 \uc801\uc6a9\ud574\uc11c \ud3b8\ud574\uc84c\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",metastring:'title="useOutSideClick.tsx"',children:"import { useCallback, useEffect, useRef, useState } from 'react';\n\ntype OutSideProviderProps = {\n  component: JSX.Element;\n};\n\nexport function useOutsideClick<T extends HTMLElement>() {\n  const areaRef = useRef<T>(null);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleClick = useCallback(\n    (e: MouseEvent) => {\n      if (areaRef.current?.contains(e.target as Node) === false) {\n        setIsOpen(false);\n      }\n    },\n    [setIsOpen]\n  );\n\n  useEffect(() => {\n    window.addEventListener('mousedown', handleClick);\n    return () => window.removeEventListener('mousedown', handleClick);\n  }, [handleClick]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const handleRevers = useCallback(() => {\n    setIsOpen((prev) => !prev);\n  }, [setIsOpen]);\n\n  const OutSideProvider = ({ component }: OutSideProviderProps) => {\n    return <>{isOpen && component}</>;\n  };\n\n  return {\n    customRef: areaRef,\n    isOpen,\n    handleClose,\n    handleOpen,\n    handleRevers,\n    OutSideProvider,\n  };\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\ub354 \ubcf4\uc644\ub41c ",(0,o.jsx)(n.code,{children:"useOutsideClick"}),"\uc785\ub2c8\ub2e4. \uc870\uac74\ubd80 \ub79c\ub354\ub9c1\uc744 \ud65c\uc6a9\ud558\ub294 \uc810\ub3c4 \ucd94\uc0c1\ud654\ud588\uc2b5\ub2c8\ub2e4. useRef, useState\ub294 \ub0b4\ubd80\ub85c \uc774\ub3d9\uc2dc\ud0a4 handler\ub85c state\ub97c \uc81c\uc5b4\ud569\ub2c8\ub2e4."]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>r});var o=t(67294);const s={},c=o.createContext(s);function r(e){const n=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);