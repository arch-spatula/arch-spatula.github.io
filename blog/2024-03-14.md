---
title: "당신의 1억원짜리 취미 코딩"
authors: [arch-spatula]
tags: ["netlify", "vercel", "배포", "DDos"]
description: "호스팅 서비스 보안"
toc_max_heading_level: 6
---

# 당신의 1억원짜리 취미 코딩

화이트 데이입니다. 사탕은 없지만 DDos는 줄 수 있는 있습니다.

<!--truncate-->

회사에서 아주 가끔 작업이 끝나고 잠시 여우로울 때가 있습니다. 회사 슬랙방에 기술트렌드를 알려주는 봇이 있습니다. 거기서 이 글을 발견했습니다.

[Netlify가 간단한 정적 사이트에 대해 $104k(1억4천만원) 청구](https://news.hada.io/topic?id=13554)

회사 슬랙 방 봇이 추천한 글이고 기밀자료도 아닙니다. 링크 발견을 회사 슬랙방에서 발견했습니다. ~~뭐 유튜브 추천에서도 발견하고 크롬 브라우져에서 나중에 화장실에서 추천해줘도 K 법률답게 NDA(기밀유지협약)를 어겼군요.~~ 중요한 것은 이게 아니고 중요한 것은 비용 폭탄이 발생했다는 것입니다.

꽤나 화재가 되었습니다. 생각보다 많은 사람들이 빠르게 반응했습니다. 저의 의문은 저의 vercel로 올린 취미 프로젝트가 안전할까? 더이상 개발자가 취미로 개발하는게 저렴한 취미가 아닌가? 앞으로 취미로 만들면 배포를 AWS로 하고 직접 모두 설정해야 하는가?(이것도 취미로 언젠간 할 작업은 맞습니다.)

## 제일 먼저 스킬 이슈

사업을 운영하는 관점에서 보안이 취약하면 오히려 수익이 늘어난다면 최대한 보안을 취약하게 만들어야 하지 않는가? 제가 임원이고 이번 분기에 롱콜 옵션을 행사해야 하면 이런 행동을 할 것 같습니다. 저의 높은 직급으로 저연차 직원 계정을 도용하고 MFA도 풀어고 해킹하고 비트코인 채굴하고 CDN이나 방화벽을 내려놓고 DDoS 공격을 합니다. 고객에게 비용 폭탄이 발생하게 만들었을 것입니다. 저연차는 짤리고 저는 높은 당기순이익을 반영하는 높아진 주가의 롱콜옵션을 행사할 것입니다.

이번 사건의 피해자는 아마 그리고 그정도 상식도 없는가? 아마 없던 것 같습니다.

### 설정과 정의 문제

잘되는 서비스에서 트레픽이 늘어났는데 중단 되어야 하는가? 라는 질문을 누가 먼저 했습니다. 아니라는 것도 당연히 알고 있습니다. 아마 무엇이 맞고 틀리고에 대한 논박과정은 생략하고 이상적인 결론은 이렇다고 생각합니다. 설정 페이지에서 알아서 중단하는 토클 버튼있는 것입니다. 본인이 실제 서비스로 돈을 벌고자 한다면 토클을 끌 수 있게 설정할 것입니다. 뭐 이렇게 이상적이면 좋겠는데 세상이 언제 이상적인가? 대부분 특수한 경우만 이상적입니다. 아마 이번에는 DDoS 공격자 입장에서만 이상적일 것입니다.

법의 목적은 정의 실현이라고 생각하는가? 이런 질문을 진짜로 답하는 사람들은 법학자, 윤리학자, 철학자의 몫입니다. 개발자인 우리가 답하기 위한 시도는 오만합니다. 우리 위치에 맞지 않습니다. 하지만 굳이 답변하자면 아니라는 것을 바로 알 수 있습니다. 법의 목적은 사회 질서를 유지하기 위함입니다. 조금 생각해보면 이해가 될 것입니다. 왜 대기업 임원 고위직은 처벌하지 않는가? 오히려 질서 유지가 안되기 때문입니다. 주가는 폭락하고 회사 내부에서는 반란, 쿠데타 어쩌면 혁명이 발생할 수 있습니다. 이 말을 하는 이유는 세상 살면서 이상적으로 ~해야 한다는 이상과 실제로 ~하고 있는 현실은 다르다는 것입니다. 우리는 엔지니어입니다. 주어진 현실과 우리 위치를 아는 것이 기본입니다.

## vercel에 올린 저의 취미 프로젝트가 안전할까?

결론부터 이야기하면 모릅니다. 보안은 늘 그렇듯 해커들은 늘 방법을 찾을 것입니다(hackers finds it's a way).

<iframe className="codepen" src="https://www.youtube.com/embed/NyCtO1bTWkY" title="당신도 DDoS 공격으로 나락에 갈 수 있다" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowFullScreen></iframe>

Vercel은 저처럼 맥북 사용하고 스타벅스에서 VSCode로 리액트 코드짜는 코드 몽키들을 위해 기본 보안 장치를 마련했습니다. 앞으로 Vercel에 배포하면 수치여기기 바랍니다.

[Deployment Protection on Vercel](https://vercel.com/docs/security/deployment-protection)

https://vercel.com/docs/security/attack-challenge-mode

무료 버전에 대해서 어느정도 보안하고자 하고 있습니다.

vercel/next.js#41485

위 이슈에서 발견했습니다.

하지만 피곤해서 아직 안 읽었습니다.

화이트 데이 글 소재가 나왔습니다.

Two Weeks Of DDOS Attacks - Did We Survive?

공격자의 비용이 방어자의 비용이 더 높도록 설계하는 것이 방어의 시작입니다. 물론 상대가 이재용이면 그냥 포기합시다.

Surprise $104,500 Bill? Breaking Down A BIG Mistake

공격자는 정찰 방어자는 모니터

당신이 여자가 아닌 이상 스토커가 있을리가 없습니다. 일단 본인 이외 트렉픽 증가가 있으면 무조건 주시하고 의심하도록 합니다.

큰파일을 주의하도록 합니다. MB 단위 파일은 모두 더 최소화할 방법을 찾도록 합니다. Bandwidth를 잘 주의하도록 합니다.
